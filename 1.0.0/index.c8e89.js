window.__require=function e(t,n,o){function i(a,s){if(!n[a]){if(!t[a]){var c=a.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var p=n[a]={exports:{}};t[a][0].call(p.exports,function(e){return i(t[a][1][e]||e)},p,p.exports,e,t,n,o)}return n[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<o.length;a++)i(o[a]);return i}({Banner111005401:[function(e,t,n){"use strict";cc._RF.push(t,"1a837zDyN9NBqgDZ5NzIzU9","Banner111005401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./common/GameEffectMng111005401"),s=e("./GameEventName111005401"),c=e("./NumAtlasLabel111005401"),l=e("./roller/GameLayer111005401"),p=cc._decorator,h=p.ccclass,u=p.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.commonBanner=null,t.winScoreNode=null,t.winGoldLab=null,t.winTextLabNode=null,t.totalWinScoreNode=null,t.totalGoldLab=null,t.onShowCommonBanner=!1,t.isFirst=!0,t.isDelayShowCommonBanner=!1,t.m_isUpdate=!1,t.m_sumSpinCoin=0,t.m_money=0,t.m_speed=3,t}return i(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),game.EventManager.getInstance().addEventListener(s.EventName.EVENT_SHOW_COMMON_BANNER,this.showCommonBanner,this),game.EventManager.getInstance().addEventListener(s.EventName.EVENT_SHOW_WIN_BANNER,this.showWinScore,this),game.EventManager.getInstance().addEventListener(s.EventName.EVENT_SHOW_TOTAL_WIN_BANNER,this.showTotalWinScore,this),this._init()},t.prototype.onDestroy=function(){e.prototype.onDestroy.call(this),game.EventManager.getInstance().removeEventListener(s.EventName.EVENT_SHOW_COMMON_BANNER,this.showCommonBanner,this),game.EventManager.getInstance().removeEventListener(s.EventName.EVENT_SHOW_WIN_BANNER,this.showWinScore,this),game.EventManager.getInstance().removeEventListener(s.EventName.EVENT_SHOW_TOTAL_WIN_BANNER,this.showTotalWinScore,this)},t.prototype._init=function(){this.commonBanner.active=!0,this.winTextLabNode.active=!0},t.prototype.showCommonBanner=function(){this.onShowCommonBanner||(this.m_isUpdate?this.isDelayShowCommonBanner=!0:(l.default.instance.showTatalWin=!1,this.onShowCommonBanner=!0,this.winScoreNode.active=!1,this.totalWinScoreNode.active=!1,this.commonBanner.active=!0))},t.prototype.showWinScore=function(e,t){if(this.winScore=t,t){var n;if(l.default.instance.showTatalWin=!1,this.onShowCommonBanner=!1,this.commonBanner.active=!1,this.totalWinScoreNode.active=!1,this.winScoreNode.active=!0,(n=this.showWinScoreEffect(t))>=5&&n<20&&!this.isFirst)return this.winTextLabNode.active=!1,void this._setLabMoney("0.00");this._setLabMoney(slot.SlotUtils.formatNumber(t)),this.isFirst=!1}else this.showCommonBanner()},t.prototype.showTotalWinScore=function(e,t){t?(this.onShowCommonBanner=!1,this.winScoreNode.active=!1,this.totalWinScoreNode.active=!0,this.commonBanner.active=!1,l.default.instance.showTatalWin=!0,this.showWinScoreEffect(t,!1),this._setLabMoney(slot.SlotUtils.formatNumber(t),!0)):this.showCommonBanner()},t.prototype.showWinScoreEffect=function(e,t){var n=this;void 0===t&&(t=!0);var o=0;return e&&e>0&&((o=e/slot.SpinManager.instance.betCost)>=5&&o<20&&t?a.default.instance.ChangeBannerBg(1,function(){n.showFreeGameUpdateScore(e)}):(a.default.instance.showBannerEffect(0),t&&slot.SoundMger.instance.playEffect("JP_Text_Show"))),o},t.prototype.showFreeGameUpdateScore=function(e){this.m_isUpdate=!0,this.m_money=0,this.m_sumSpinCoin=e,this.winTextLabNode.active=!1,this.m_speed=e/132,slot.SoundMger.instance.stopEffect("Textbox_Coin"),slot.SoundMger.instance.playEffect("Textbox_Coin")},t.prototype._setLabMoney=function(e,t){void 0===t&&(t=!1),t?this.totalGoldLab.string=e:this.winGoldLab.string=e},t.prototype.update=function(){var e=this;this.m_isUpdate&&(this.m_money+=this.m_speed,this.m_money<this.m_sumSpinCoin?this._setLabMoney(slot.SlotUtils.formatNumber(this.m_money)):this.m_money>=this.m_sumSpinCoin&&(this.m_money=this.m_sumSpinCoin,this.m_isUpdate=!1,this._setLabMoney(slot.SlotUtils.formatNumber(this.m_money)),slot.SoundMger.instance.playEffect("Textbox_02"),this.winTextLabNode.active=!0,a.default.instance.showBannerEffect(3),this.scheduleOnce(function(){game.EventManager.getInstance().raiseEvent(s.EventName.EVENT_LINE_UPDATESCORES),e.isDelayShowCommonBanner&&(e.isDelayShowCommonBanner=!1,e.showCommonBanner())},1)))},r([u(cc.Node)],t.prototype,"commonBanner",void 0),r([u(cc.Node)],t.prototype,"winScoreNode",void 0),r([u(c.default)],t.prototype,"winGoldLab",void 0),r([u(cc.Node)],t.prototype,"winTextLabNode",void 0),r([u(cc.Node)],t.prototype,"totalWinScoreNode",void 0),r([u(c.default)],t.prototype,"totalGoldLab",void 0),r([h],t)}(slot.SlotBanner);n.default=f,cc._RF.pop()},{"./GameEventName111005401":"GameEventName111005401","./NumAtlasLabel111005401":"NumAtlasLabel111005401","./common/GameEffectMng111005401":"GameEffectMng111005401","./roller/GameLayer111005401":"GameLayer111005401"}],BgCloudMoveAni111005401:[function(e,t,n){"use strict";cc._RF.push(t,"e2f4a1wFGFDwLSLlQ+n8Oil","BgCloudMoveAni111005401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cloud_0=null,t.cloud_1=null,t._speed=1.5,t}return i(t,e),t.prototype.start=function(){this.cloud_0.x=300,this.cloud_1.x=-300},t.prototype.moveAni=function(e,t){t.x-=e*this._speed,t.x<=-800&&(t.x=600)},t.prototype.update=function(e){this.moveAni(e,this.cloud_0),this.moveAni(e,this.cloud_1)},r([c(cc.Node)],t.prototype,"cloud_0",void 0),r([c(cc.Node)],t.prototype,"cloud_1",void 0),r([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],BonusGame111005401:[function(e,t,n){"use strict";cc._RF.push(t,"b43dfAaZ+dLpaKBQ+Afd607","BonusGame111005401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../common/CommonLogic111005401"),s=e("../GameEventName111005401"),c=e("../NumAtlasLabel111005401"),l=e("./GameOpenEffect111005401"),p=cc._decorator,h=p.ccclass,u=p.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.infoNode=null,t.strButton=null,t.btn_click_light_effect=null,t.timesNum=null,t.loading=null,t.loadingIcon=null,t.loading_Num=null,t.gameOpenEffect=null,t.m_time=5,t.hasClickBtn=!1,t.btnAniCom=null,t.aniState=null,t}return i(t,e),t.prototype.onLoad=function(){var e=this;this.strButton.node.on("click",this.onClickStart,this),this.strButton.node.on(cc.Node.EventType.MOUSE_ENTER,function(){e._onMouseEnterBrideNode()},this),this.strButton.node.on(cc.Node.EventType.MOUSE_LEAVE,function(){e._onMouseLeaveBrideNode()},this),this.gameOpenEffect.node.active=!0,this.btn_click_light_effect.node.active=!1,this.hasClickBtn=!1},t.prototype.onClickStart=function(){var e=this;this.hasClickBtn||(this.hasClickBtn=!0,slot.SoundMger.instance.playEffect("Fs_Start",!1),this.btn_click_light_effect.node.active=!0,this.btn_click_light_effect.clearTracks(),this.btn_click_light_effect.setAnimation(0,"jiesuan-particle_loop",!1),this.btn_click_light_effect.setCompleteListener(function(){e.gameOpenEffect.node.active=!0,e.gameOpenEffect.onPlayShow(function(){game.EventManager.getInstance().raiseEvent(s.EventName.EVENT_CLOUD_LEVEAL_ANI),e.onClose(),e.btn_click_light_effect.setCompleteListener(null)})}))},t.prototype._init=function(){var e=this;this.strButton.node.active=!1,this.loading.active=!0,this.infoNode.active=!1,this.loadingRoundAni(),this._updateLodingNum(),this.setFreeTimes(),this.gameOpenEffect.onPlayShow(function(){e.infoNode.active=!0,e.gameOpenEffect.onPlayHide(function(){e.gameOpenEffect.node.active=!1})})},t.prototype.onOpen=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.freeInfoData=t[0][0],this.cb_run=t[0][1],this._init()},t.prototype.setFreeTimes=function(){this.timesNum.string=this.freeInfoData.times+""},t.prototype._onMouseEnterBrideNode=function(){this.btnAni||(this.btnAniCom=this.strButton.getComponent(cc.Animation)),this._stopBtnAni(),this.btnAniCom.off("lastframe",this._stopBtnAni,this),this.btnAniCom&&(this.aniState||(this.aniState=this.btnAniCom.play(),this.aniState.wrapMode=cc.WrapMode.Loop))},t.prototype._onMouseLeaveBrideNode=function(){this.btnAni||(this.btnAniCom=this.strButton.getComponent(cc.Animation)),this.btnAniCom&&this.aniState&&this.aniState.isPlaying&&this.aniState&&this.aniState.isPlaying&&(this.btnAniCom.off("lastframe",this._stopBtnAni,this),this.btnAniCom.once("lastframe",this._stopBtnAni,this))},t.prototype._stopBtnAni=function(){this.btnAniCom.stop(),this.aniState=null},t.prototype.onDestroy=function(){this.cb_run&&this.cb_run.run(),this.cb_run=null},t.prototype.onClose=function(){this.strButton.node.active=!1,this.cb_run&&this.cb_run.run(),this.cb_run=null,game.UIManager.getInstance().close(this),this._onMouseEnterBrideNode()},t.prototype._updateLodingNum=function(){var e=this,t=65;this.schedule(function(){t+=1,e.loading_Num.string=t+"",t>=100&&(e.loading.active=!1,e.strButton.node.active=!0,a.default.nodeScaleBingBongAni(e.strButton.node,0,.1),e._updateTimeAutoClick(),cc.Tween.stopAllByTarget(e.loadingIcon))},.07)},t.prototype.loadingRoundAni=function(){cc.Tween.stopAllByTarget(this.loadingIcon),cc.tween(this.loadingIcon).repeatForever(cc.tween().by(1,{angle:-360})).start()},t.prototype._updateTimeAutoClick=function(){var e=this;this.unscheduleAllCallbacks(),this.scheduleOnce(function(){e.onClickStart()},this.m_time)},r([u(cc.Node)],t.prototype,"infoNode",void 0),r([u(cc.Button)],t.prototype,"strButton",void 0),r([u(sp.Skeleton)],t.prototype,"btn_click_light_effect",void 0),r([u(c.default)],t.prototype,"timesNum",void 0),r([u(cc.Node)],t.prototype,"loading",void 0),r([u(cc.Node)],t.prototype,"loadingIcon",void 0),r([u(c.default)],t.prototype,"loading_Num",void 0),r([u(l.default)],t.prototype,"gameOpenEffect",void 0),r([h],t)}(slot.BaseView);n.default=f,cc._RF.pop()},{"../GameEventName111005401":"GameEventName111005401","../NumAtlasLabel111005401":"NumAtlasLabel111005401","../common/CommonLogic111005401":"CommonLogic111005401","./GameOpenEffect111005401":"GameOpenEffect111005401"}],CardChangeEffect111005401:[function(e,t,n){"use strict";cc._RF.push(t,"7af52vk0wxKsa2WmGZ9E+fw","CardChangeEffect111005401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.imgIcon=null,t.imgIcons=[],t.ske_front=null,t.callBack=null,t.indexArr=[5,6,7,8],t.id=0,t.hasChangeAni=!1,t}return i(t,e),t.prototype.onInit=function(e,t){this.callBack=null,t&&(this.callBack=t),this.id=e,this.ske_front.active=!1,this.imgIcon.opacity=0,this.imgIcon.scale=.1,this.hasChangeAni=!1},t.prototype.start=function(){this.setShowIcon(),this.cardAni(),this.ske_front.active=!0},t.prototype.setShowIcon=function(){for(var e=this.indexArr.indexOf(this.id),t=0;t<this.imgIcons.length;t++){var n=this.imgIcons[t];n&&(n.active=t==e)}},t.prototype.cardAni=function(){var e=this;cc.Tween.stopAllByTarget(this.imgIcon),cc.tween(this.imgIcon).delay(.18).to(.05,{opacity:255}).to(.2,{scale:1.1}).to(.1,{scale:1}).start(),this.scheduleOnce(function(){e.hasChangeAni||(e.hasChangeAni=!0,e.node.active=!1,e.callBack&&e.callBack(),e.callBack=null,e.node.removeFromParent(),e.node.destroy())},.7)},t.prototype.onDestroy=function(){},r([c(cc.Node)],t.prototype,"imgIcon",void 0),r([c([cc.Node])],t.prototype,"imgIcons",void 0),r([c(cc.Node)],t.prototype,"ske_front",void 0),r([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],CommonLogic111005401:[function(e,t,n){"use strict";cc._RF.push(t,"8a118qi8fdJfIwkZKAtD9zp","CommonLogic111005401"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return Object.defineProperty(e,"srollerLine",{get:function(){return this._srollerLine},set:function(e){this._srollerLine=e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"srollerData",{get:function(){return this._srollerData},set:function(e){if(e&&e.length>0){var t=e.slice();for(this._srollerData=[];t.length>0;){var n=t.splice(0,this._srollerLine);this._srollerData.push(n)}}else this._srollerData=[]},enumerable:!1,configurable:!0}),e.getSingelScrollerData=function(e){return this._srollerData[e]},e.getCountOnSingelScroller=function(e,t){if(!this._srollerData||!this._srollerData[e])return 0;var n=this._srollerData[e],o=0;return n.forEach(function(e){e===t&&o++}),o},e.getChangeWildId=function(e){if(!e||!e.updateList)return[];var t=e.updateList,n=[];return t&&t.length>0&&t.forEach(function(e){4==e.type&&(n=e.value.wild)}),n},e.btnScaleAni=function(e){e&&(cc.Tween.stopAllByTarget(e),e.scale=0,cc.tween(e).to(.1,{scale:1},{easing:"sineOutIn"}).start())},e.removeDuplicate=function(e){var t=[];return e&&e.length>0&&e.forEach(function(e){t.includes(e)||t.push(e)}),t},e.nodeScaleBingBongAni=function(e,t,n){if(void 0===t&&(t=.5),void 0===n&&(n=.2),e){cc.Tween.stopAllByTarget(e),e.active=!0,e.opacity=255;var o=e.scale;return e.scale=t*o,cc.tween(e).to(.25,{scale:o+n}).to(.15,{scale:o-n}).to(.1,{scale:o}).call(function(){e.scale=o}).start()}},e.angelToRadian=function(e){return e*(Math.PI/180)},e.radianToAngel=function(e){return e*(180/Math.PI)},e._srollerLine=3,e._srollerData=[],e}();n.default=o,cc._RF.pop()},{}],CommonNumAtlas111005401:[function(e,t,n){"use strict";cc._RF.push(t,"4b4eeau0QVJ0qVL2hHp+KpY","CommonNumAtlas111005401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),r([s],t)}(slot.CommonNumAtlasBase));n.default=c,cc._RF.pop()},{}],FiveLineWin111005401:[function(e,t,n){"use strict";cc._RF.push(t,"7a20dpX7ltIsoLHKFAnalTd","FiveLineWin111005401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=a.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.imgNode=null,t.imgNodeFadin=null,t.bgEffect_back=null,t.bgEffect_front=null,t.onPlayingAni=!1,t}return i(t,e),t.prototype.onLoad=function(){this.node.y=100},t.prototype.play=function(){var e=this;this.onPlayingAni||(slot.SoundMger.instance.playEffect(slot.SOUND_NAME.Full_Line),this.onPlayingAni=!0,this.bgEffect_back.node.active=!0,this.bgEffect_front.node.active=!0,this.bgEffect_back.setAnimation(0,"5win_back",!1),this.bgEffect_front.setAnimation(0,"5win_front",!1),this.scheduleOnce(function(){e.showAni()},.4))},t.prototype.showAni=function(){var e=this;this.imgNode.scale=.1,this.imgNode.opacity=255,this.imgNode.active=!0,cc.Tween.stopAllByTarget(this.imgNode),cc.tween(this.imgNode).to(.25,{scale:1.1}).to(.15,{scale:1}).delay(.7).to(.2,{opacity:0}).call(function(){e.bgEffect_back.node.active=!1,e.bgEffect_front.node.active=!1,e.onPlayingAni=!1}).start(),cc.Tween.stopAllByTarget(this.imgNodeFadin),this.imgNodeFadin.scale=1,this.imgNodeFadin.opacity=0,this.imgNodeFadin.active=!0,cc.tween(this.imgNodeFadin).delay(.15).to(.18,{scale:1.2,opacity:180}).to(.25,{opacity:0}).start()},r([c(cc.Node)],t.prototype,"imgNode",void 0),r([c(cc.Node)],t.prototype,"imgNodeFadin",void 0),r([c(sp.Skeleton)],t.prototype,"bgEffect_back",void 0),r([c(sp.Skeleton)],t.prototype,"bgEffect_front",void 0),r([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],FlashLightMove:[function(e,t,n){"use strict";cc._RF.push(t,"01ce1USzQNHu4helmZ5cWIp","FlashLightMove");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._speed=1,t._time=0,t}return i(t,e),t.prototype.onLoad=function(){this._material=this.node.getComponent(cc.Sprite).getMaterial(0)},t.prototype.update=function(e){this._time>2&&(this._time=0),this._material.setProperty("u_time",this._time),this._time+=e*this._speed},r([s],t)}(cc.Component));n.default=c,cc._RF.pop()},{}],FluxayTextureEffect:[function(e,t,n){"use strict";cc._RF.push(t,"65b91lIE71GwpyCOTTf+Z6d","FluxayTextureEffect");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._speed=1,t._time=0,t}return i(t,e),t.prototype.onLoad=function(){this.onPlayLigheEffect=!1},t.prototype.startMoveLight=function(e){e&&(this._speed=e);var t=this.node.getComponent(cc.Sprite);if(t){this._material=t.getMaterial(0);var n=t.spriteFrame,o=n.uv[0],i=n.uv[6],r=n.uv[3],a=n.uv[5],s=new cc.Vec4(o,a,i,r),c=n.isRotated()?1:0;this._material.setProperty("u_uvOffset",s),this._material.setProperty("u_uvRotated",c)}this.onPlayLigheEffect=!0},t.prototype.update=function(e){this.onPlayLigheEffect&&this._material&&(this._time>4&&(this._time=0,this.onPlayLigheEffect=!1),this._material.setProperty("u_time",this._time),this._time+=e*this._speed)},r([s],t)}(cc.Component));n.default=c,cc._RF.pop()},{}],FreeGameResult111005401:[function(e,t,n){"use strict";cc._RF.push(t,"d6e6cadh2pDRrrh49UHplWd","FreeGameResult111005401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../common/CommonLogic111005401"),s=e("../GameEventName111005401"),c=e("../NumAtlasLabel111005401"),l=e("../shader/FluxayTextureEffect"),p=cc._decorator,h=p.ccclass,u=p.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bg_light_effect=null,t.clickNode=null,t.p_btnDraw=null,t.labNode=null,t.totalWinSp=null,t.infoNode=null,t.wildIconNodeContent=null,t.btn_click_light_effect=null,t.winNum=null,t.playTimes=null,t.m_isUpdate=!1,t.m_time=6.2,t.callBack=null,t.m_sumSpinCoin=0,t.m_sumTimes=0,t.hasClickBtn=!1,t.btnAniCom=null,t.aniState=null,t.orgY=0,t.m_money=1e3,t.m_speed=3,t}return i(t,e),t.prototype.onLoad=function(){var e=this;this.clickNode.active=!1,slot.SoundMger.instance.stopMusic("FreeGame_Back_Music",!0),this.clickNode.on("click",this.onClickBgNode,this),this.p_btnDraw.node.on("click",this._onClickBtnDraw,this),this.p_btnDraw.node.on(cc.Node.EventType.MOUSE_ENTER,function(){e._onMouseEnterBrideNode()},this),this.p_btnDraw.node.on(cc.Node.EventType.MOUSE_LEAVE,function(){e._onMouseLeaveBrideNode()},this),this.hasClickBtn=!1},t.prototype.onOpen=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.unscheduleAllCallbacks(),this.btn_click_light_effect.node.active=!1,this.m_sumSpinCoin=Number(t[0][0].sumSpinCoin),this.m_sumTimes=t[0][0].sumTimes,this.callBack=t[0][1],this._playLabMoney(),this._setLabTiems(this.m_sumTimes);var o=t[0][0].wild,i=a.default.removeDuplicate(o);this._showWildIcons(i.length)},t.prototype.onEnable=function(){this.onInit(),slot.SoundMger.instance.playEffect(slot.SOUND_NAME.Free_Game_Settlement)},t.prototype.onInit=function(){this.showInfoNodeAni(),this.bg_light_effect.active=!1,this._showWildIcons(),this.p_btnDraw.node.opacity=0,this.p_btnDraw.node.active=!1},t.prototype._showWildIcons=function(e){for(var t=0;t<this.wildIconNodeContent.childrenCount;t++)this.wildIconNodeContent.children[t].active=!(t<=3);if(e>0)for(t=0;t<e;t++){var n=this.wildIconNodeContent.children[t];n&&(n.active=!0,n.y=0);var o=this.wildIconNodeContent.children[t+4];o&&(o.active=!1),o.y=0}for(var i=0,r=0;r<this.wildIconNodeContent.childrenCount;r++){var a=this.wildIconNodeContent.children[r];a.active&&(1!=++i&&4!=i||(a.y=-15))}},t.prototype.showInfoNodeAni=function(){this.infoNode.opacity=0,a.default.nodeScaleBingBongAni(this.infoNode,.2)},t.prototype._onMouseEnterBrideNode=function(){this.btnAni||(this.btnAniCom=this.p_btnDraw.getComponent(cc.Animation)),this._stopBtnAni(),this.btnAniCom.off("lastframe",this._stopBtnAni,this),this.btnAniCom&&(this.aniState||(this.aniState=this.btnAniCom.play(),this.aniState.wrapMode=cc.WrapMode.Loop))},t.prototype._onMouseLeaveBrideNode=function(){this.btnAni||(this.btnAniCom=this.p_btnDraw.getComponent(cc.Animation)),this.btnAniCom&&this.aniState&&this.aniState.isPlaying&&(this.btnAniCom.off("lastframe",this._stopBtnAni,this),this.btnAniCom.once("lastframe",this._stopBtnAni,this))},t.prototype._stopBtnAni=function(){this.btnAniCom.stop(),this.aniState=null},t.prototype._onClickBtnDraw=function(){var e=this;this.hasClickBtn||(game.EventManager.getInstance().raiseEvent(s.EventName.EVENT_LINE_UPDATESCORES),this.hasClickBtn=!0,this.unscheduleAllCallbacks(),slot.SoundMger.instance.playEffect("Fs_Start",!1),slot.SoundMger.instance.playMusic(slot.SOUND_NAME.Game_Back_Music),game.EventManager.getInstance().raiseEvent(s.EventName.EVENT_SHOW_TOTAL_WIN_BANNER,this.m_sumSpinCoin),this.btn_click_light_effect.node.active=!0,this.btn_click_light_effect.clearTracks(),this.btn_click_light_effect.setAnimation(0,"jiesuan-particle_loop",!1),this.btn_click_light_effect.setCompleteListener(function(){e.callBack&&e.callBack.run(),e.callBack=null,game.UIManager.getInstance().close(e)}))},t.prototype._btnAni=function(){this.p_btnDraw.node.active=!0,this.orgY=this.p_btnDraw.node.y,this.p_btnDraw.node.y=2*this.orgY,cc.Tween.stopAllByTarget(this.p_btnDraw.node),cc.tween(this.p_btnDraw.node).to(1.2,{opacity:255,y:this.orgY}).start(),this._updateTimeAutoClick()},t.prototype._updateTimeAutoClick=function(){var e=this;this.unscheduleAllCallbacks(),this.scheduleOnce(function(){e._onClickBtnDraw()},this.m_time)},t.prototype._playLabMoney=function(){this._setLabMoney("0"),this.m_isUpdate=!0,this.clickNode.active=!0,this.m_money=0,this.m_speed=this.m_sumSpinCoin/162},t.prototype._setLabTiems=function(e){this.playTimes.string=e+""},t.prototype._setLabMoney=function(e){this.winNum.string=e+""},t.prototype.playBgEffect=function(){slot.SoundMger.instance.playEffect("Prize_Big_Quick"),this.bg_light_effect.active=!0,a.default.nodeScaleBingBongAni(this.labNode,.7,.1)},t.prototype.onClickBgNode=function(){this.m_money=this.m_sumSpinCoin},t.prototype.update=function(){this.m_isUpdate&&(this.m_money<this.m_sumSpinCoin?(this.m_money+=this.m_speed,this._setLabMoney(slot.SlotUtils.formatNumber(this.m_money))):this.m_money>=this.m_sumSpinCoin&&(slot.SoundMger.instance.stopEffect(slot.SOUND_NAME.Free_Game_Settlement),this.m_isUpdate=!1,this._setLabMoney(slot.SlotUtils.formatNumber(this.m_sumSpinCoin)),this.playBgEffect(),this._btnAni(),this.totalWinSp&&this.totalWinSp.startMoveLight(2)))},r([u(cc.Node)],t.prototype,"bg_light_effect",void 0),r([u(cc.Node)],t.prototype,"clickNode",void 0),r([u(cc.Button)],t.prototype,"p_btnDraw",void 0),r([u(cc.Node)],t.prototype,"labNode",void 0),r([u(l.default)],t.prototype,"totalWinSp",void 0),r([u(cc.Node)],t.prototype,"infoNode",void 0),r([u(cc.Node)],t.prototype,"wildIconNodeContent",void 0),r([u(sp.Skeleton)],t.prototype,"btn_click_light_effect",void 0),r([u(c.default)],t.prototype,"winNum",void 0),r([u(c.default)],t.prototype,"playTimes",void 0),r([h],t)}(game.UIView);n.default=f,cc._RF.pop()},{"../GameEventName111005401":"GameEventName111005401","../NumAtlasLabel111005401":"NumAtlasLabel111005401","../common/CommonLogic111005401":"CommonLogic111005401","../shader/FluxayTextureEffect":"FluxayTextureEffect"}],FreeGameRole111005401:[function(e,t,n){"use strict";cc._RF.push(t,"129b5jGl29Ij4zb4YwAFGxg","FreeGameRole111005401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./CommonLogic111005401"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.posId=0,t.roldId=0,t.ske=null,t.isGoldState=!1,t.a=320,t.b=100,t.radian=0,t.isMoving=!1,t.moveSpeed=400,t.currAngel=0,t.nextAngel=0,t.isOnLoop=!1,t.angelArr=[270,180,90,0],t.zIndexArr=[4,1,0,1],t.isGoNextPos=!1,t.onChangeWildTime=!1,t.lightNodeEffect=null,t.doChangeCb=null,t}return i(t,e),t.prototype.onLoad=function(){this.ske=this.node.getComponentInChildren(sp.Skeleton),this.init()},t.prototype.onDestroy=function(){},t.prototype.start=function(){this.setPos()},t.prototype.init=function(){this.isMoving=!1,this.isGoldState=!1,this.isOnLoop=!1,this.node.scale=1,this.node.opacity=255,this.onChangeWildTime=!1},t.prototype.reLineCb=function(e,t,n){this.init(),e&&(this.posId+=e,this.posId=this.posId>this.zIndexArr.length-1?this.posId-this.zIndexArr.length:this.posId,this.setPos(),-1!=t.indexOf(this.roldId)&&this.onShowGoleState(),n&&(this.goNextPosLoop(),this.nextAngel=0==this.nextAngel?360:this.nextAngel))},t.prototype.onPlayBaseIdle=function(){this.ske.node.active=!1,this.ske.node.active=!0,this.ske.setAnimation(0,"base_idle",!0)},t.prototype.onSmileAni=function(){var e=this;this.ske.node.active=!1,this.ske.node.active=!0,this.ske.clearTracks();var t=this.ske.setAnimation(0,"base_win",!1);this.ske.setTrackCompleteListener(t,function(){e.onPlayBaseIdle()})},t.prototype.onPlayToGoldAni=function(e){var t=this;this.ske.node.active=!1,this.ske.node.active=!0,slot.SoundMger.instance.playEffect("Fs_Role_Change"),this.ske.clearTracks();var n=this.ske.setAnimation(0,"base_to_gold",!1);this.ske.setTrackCompleteListener(n,function(){t.onShowGoleState(),e&&e()})},t.prototype.onShowGoleState=function(){this.ske.node.active=!1,this.ske.node.active=!0,this.isGoldState=!0,this.ske.setAnimation(0,"gold_idle",!0)},t.prototype.onChangeWildAniStart=function(e){var t=this,n=function(){cc.Tween.stopAllByTarget(t.node),t.isGoldState?(t.changeWildRoleLightEffect(),cc.tween(t.node).to(.2,{scale:1.2}).call(function(){e&&e()}).start()):cc.tween(t.node).to(.2,{opacity:100}).start()};this.isOnLoop&&!this.onChangeWildTime?(this.onChangeWildTime=!0,this.doChangeCb=n):n()},t.prototype.onChangeWildAniEnd=function(){cc.Tween.stopAllByTarget(this.node),this.isGoldState?cc.tween(this.node).to(.2,{scale:1}).start():cc.tween(this.node).to(.2,{opacity:255}).start(),this.isOnLoop&&(this.onChangeWildTime=!1,this.goNextPos())},t.prototype.changeWildRoleLightEffect=function(){var e=this;this.lightNodeEffect||(this.lightNodeEffect=this.node.getChildByName("lightEffect")),cc.Tween.stopAllByTarget(this.lightNodeEffect),this.lightNodeEffect.active=!0,this.lightNodeEffect.opacity=50,cc.tween(this.lightNodeEffect).to(.3,{opacity:255}).to(.4,{opacity:0}).call(function(){e.lightNodeEffect.active=!1}).start()},t.prototype.goNextPos=function(){this.posId++,this.posId=this.posId>=this.angelArr.length?0:this.posId,this.nextAngel=this.angelArr[this.posId],this.isMoving=!0,this.isGoNextPos=!0},t.prototype.goNextPosEnd=function(){this.isMoving=!1,this.isGoNextPos=!1,this.isOnLoop&&(this.onChangeWildTime&&this.doChangeCb?(this.doChangeCb(),this.doChangeCb=null):this.goNextPos())},t.prototype.goNextPosLoop=function(){this.isOnLoop||(this.moveSpeed=50,this.isOnLoop=!0,this.goNextPos())},t.prototype.updatePos=function(){this.node.x=this.a*Math.cos(this.radian),this.node.y=this.b*Math.sin(this.radian),this.setRoleZindex()},t.prototype.setPos=function(){this.currAngel=this.angelArr[this.posId],this.radian=a.default.angelToRadian(this.currAngel),this.updatePos()},t.prototype.setRoleZindex=function(){var e=Math.floor(this.a/4),t=Math.floor(this.b/4);this.node.x>-(e+100)&&this.node.x<e+100&&this.node.y<-t?this.node.zIndex=this.zIndexArr[0]:this.node.x<-e&&this.node.y>-t&&this.node.y<t?this.node.zIndex=this.zIndexArr[1]:this.node.x>-(e+120)&&this.node.x<e+120&&this.node.y>t?this.node.zIndex=this.zIndexArr[2]:this.node.x>e&&this.node.y>-t&&this.node.y<t&&(this.node.zIndex=this.zIndexArr[3])},t.prototype.update=function(e){this.isMoving&&(this.currAngel=this.currAngel<=0?360:this.currAngel,this.currAngel=this.currAngel-e*this.moveSpeed,this.isGoNextPos&&(this.currAngel<=this.nextAngel&&(this.currAngel=this.nextAngel,this.goNextPosEnd()),this.radian=a.default.angelToRadian(this.currAngel),this.updatePos()))},r([c],t)}(cc.Component));n.default=l,cc._RF.pop()},{"./CommonLogic111005401":"CommonLogic111005401"}],FreeGameRoleMng111005401:[function(e,t,n){"use strict";cc._RF.push(t,"2b1b6r+6aNBJZLAjDdlc7y3","FreeGameRoleMng111005401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../GameEventName111005401"),s=e("./FreeGameRole111005401"),c=e("./GameEffectMng111005401"),l=cc._decorator,p=l.ccclass,h=l.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rolePNode=[],t.roleBgEffect=[],t.fuwen_effect=null,t.midLightEffect=null,t.roleEffect_front=null,t.roleComArr=[],t.posRoleId=[a.SlotCardType.MONK,a.SlotCardType.SANDY,a.SlotCardType.PIG,a.SlotCardType.MONKEY],t.hasDoRoundMoveLoop=!1,t}return i(t,e),t.prototype.onLoad=function(){this.init()},t.prototype.init=function(){this.midLightEffect.node.zIndex=2,this.onShowHideRoleBgEffect(!1),this.fuwen_effect.node.active=!1,this.roleComArr=[];for(var e=0;e<this.rolePNode.length;e++){var t=this.rolePNode[e].addComponent(s.default);t.posId=e,t.roldId=this.posRoleId[e],this.roleComArr.push(t)}},t.prototype.reLineCb=function(){for(var e=c.default.instance.toChangeWildRoleArr,t=c.default.instance.isALLChangeGold,n=0;n<this.roleComArr.length;n++)this.roleComArr[n].reLineCb(e.length,e,t)},t.prototype.roundMove=function(e){slot.SoundMger.instance.playEffect("Fs_Role_Turn"),this.roleComArr.forEach(function(e){e.goNextPos()}),this.scheduleOnce(function(){e&&e()},1)},t.prototype.roundMoveLoop=function(){c.default.instance.isALLChangeGold&&!this.hasDoRoundMoveLoop&&(this.hasDoRoundMoveLoop=!0,this.roleComArr.forEach(function(e){e.goNextPosLoop()}))},t.prototype.onRoleSmileAni=function(e){this.roleComArr.forEach(function(t){t.roldId==e&&t.onSmileAni()})},t.prototype.onPlayToGoldAni=function(e,t){var n=this;this.onShowHideRoleBgEffect(!0,e),this.roleComArr.forEach(function(o){o.roldId==e&&(n.showGuangQuanEffect(),n.scheduleOnce(function(){n.fuwen_effect.node.active=!0,o.onPlayToGoldAni(function(){t&&t(),n.fuwen_effect.node.active=!1})},.8))})},t.prototype.showGuangQuanEffect=function(){var e=this;this.midLightEffect.clearTracks(),this.midLightEffect.setAnimation(0,"mfei",!1),this.midLightEffect.setCompleteListener(function(){e.midLightEffect.setAnimation(0,"mfei_back_loop",!0)})},t.prototype.showRoleBgEffect=function(e,t){var n="";switch(e){case a.SlotCardType.SANDY:n="mfei_lightsandy";break;case a.SlotCardType.PIG:n="mfei_lightpig";break;case a.SlotCardType.MONKEY:n="mfei_lightmonkey";break;case a.SlotCardType.MONK:n="mfei_lightmonk"}t&&(t.animation=n,t.node.active=!0,t.setAnimation(0,n,!1),t.setCompleteListener(function(){t.node.active=!1}))},t.prototype.onShowHideRoleBgEffect=function(e,t){if(void 0===e&&(e=!1),e)for(var n=this.posRoleId.indexOf(t),o=0;o<this.roleBgEffect.length;o++){var i=this.roleBgEffect[o];n==o?this.showRoleBgEffect(t,i):i&&(i.node.active=!1)}else for(o=0;o<this.roleBgEffect.length;o++)(i=this.roleBgEffect[o])&&(i.node.active=!1)},t.prototype.onChangeWildAniStart=function(e){game.EventManager.getInstance().raiseEvent(a.EventName.EVENT_SHOW_COMMON_BANNER),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_SETINFO,a.BannerDescr.ONCHANGESYMBLE);var t=0;this.roleComArr.forEach(function(n){0==t?n.onChangeWildAniStart(e):n.onChangeWildAniStart(),t++})},t.prototype.onChangeWildAniEnd=function(e){var t=this;this.roleComArr.forEach(function(e){e.onChangeWildAniEnd()}),this.scheduleOnce(function(){e&&e(),t.roundMoveLoop()},1)},r([h([cc.Node])],t.prototype,"rolePNode",void 0),r([h([sp.Skeleton])],t.prototype,"roleBgEffect",void 0),r([h(sp.Skeleton)],t.prototype,"fuwen_effect",void 0),r([h(sp.Skeleton)],t.prototype,"midLightEffect",void 0),r([h(sp.Skeleton)],t.prototype,"roleEffect_front",void 0),r([p],t)}(cc.Component);n.default=u,cc._RF.pop()},{"../GameEventName111005401":"GameEventName111005401","./FreeGameRole111005401":"FreeGameRole111005401","./GameEffectMng111005401":"GameEffectMng111005401"}],FreegameNumLabel111005401:[function(e,t,n){"use strict";cc._RF.push(t,"78915pdL9RNELGO4eLdTscs","FreegameNumLabel111005401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},r([s],t)}(slot.CommonNumAtlasBase));n.default=c,cc._RF.pop()},{}],GameBg111005401:[function(e,t,n){"use strict";cc._RF.push(t,"597fcE2jUVAnZlW9rkQGMfA","GameBg111005401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../GameEventName111005401"),s=cc._decorator,c=s.ccclass,l=s.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.p_nodeFree=null,t}return i(t,e),t.prototype.onLoad=function(){game.EventManager.getInstance().addEventListener(a.EventName.EVENT_CLOUD_LEVEAL_ANI,this._onFreeGameStart,this),game.EventManager.getInstance().addEventListener(a.EventName.FREE_GAME_START,this._onFreeGameStart,this),game.EventManager.getInstance().addEventListener(a.EventName.FREE_GAME_OVER,this._onFreeGameOver,this),this.p_nodeFree.active=!1},t.prototype._onFreeGameStart=function(){this.p_nodeFree.active=!0},t.prototype._onFreeGameOver=function(){this.p_nodeFree.active=!1},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(a.EventName.EVENT_CLOUD_LEVEAL_ANI,this._onFreeGameStart,this),game.EventManager.getInstance().removeEventListener(a.EventName.FREE_GAME_START,this._onFreeGameStart,this),game.EventManager.getInstance().removeEventListener(a.EventName.FREE_GAME_OVER,this._onFreeGameOver,this)},r([l(cc.Node)],t.prototype,"p_nodeFree",void 0),r([c],t)}(slot.BaseView);n.default=p,cc._RF.pop()},{"../GameEventName111005401":"GameEventName111005401"}],GameEffectMng111005401:[function(e,t,n){"use strict";cc._RF.push(t,"661e3OnCwxNwKpfIjW5IXv8","GameEffectMng111005401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(i,r){function a(e){try{c(o.next(e))}catch(t){r(t)}}function s(e){try{c(o.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}c((o=o.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(e){return function(t){return c([e,t])}}function c(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(s){r=[6,s],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(n,"__esModule",{value:!0});var c=e("../GameEventName111005401"),l=e("../NumAtlasLabel111005401"),p=e("../roller/GameLayer111005401"),h=e("./CommonLogic111005401"),u=e("./FiveLineWin111005401"),f=e("./FreeGameRoleMng111005401"),d=cc._decorator,_=d.ccclass,m=d.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rollerContentBgNode=null,t.mid_PNode=null,t.mid_layoutNode_pre=null,t.fiveLineWin=null,t.bannerBgNode=[],t.bannerEffect=[],t.bannerEffectBack_1=null,t.reRollerNode=null,t.freeRoleNodes=null,t.freeRoleNodePre=null,t.freeNodeContent=null,t.collectWildProgress=null,t.remainFreeTimes=null,t.times_lab=null,t.lastFreeTimes=null,t.effectLayer=null,t.flyLightGroup=null,t.moveStarParticlePNode=null,t.moveStarParticle=null,t.rollerLayoutBgEffect=null,t.gainReRolle=!1,t.currGameMode=slot.OperationState.Normal,t.onPlayBannerEffect=!1,t.showTypeWin=0,t.fiveLineWinNode=null,t.completeStepCb=null,t.rolePosId=[c.SlotCardType.MONK,c.SlotCardType.MONKEY,c.SlotCardType.PIG,c.SlotCardType.SANDY],t.freeGameRoleMng=null,t.numLight=null,t.numLight_scaleNode=null,t.progressBar=null,t.barLightEffect=null,t.bonus_light=null,t.onProgressMoving=!1,t.num_particle=null,t.moveToPosArr=[],t.onFreeGame=!1,t.totalOneMax=3,t.isALLChangeGold=!1,t.toChangeWildRoleArr=[],t.changeWildCount=0,t.progressIndex=0,t.totalCollectCount=0,t.remainTimes=0,t.onRunCollectWildCb=!1,t}var n;return i(t,e),n=t,t.prototype.onLoad=function(){n.instance=this,game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_TREAT_FULL_LINE_IN_LOOP,this.playFullLine,this),game.EventManager.getInstance().addEventListener(c.EventName.EVENT_CLOUD_LEVEAL_ANI,this._creatorFreeRoleNodes,this),game.EventManager.getInstance().addEventListener(c.EventName.EVENT_FREE_GAME_NUM,this._updateFreeGameNum,this),game.EventManager.getInstance().addEventListener(c.EventName.EVENT_GUNZHOU_END_EVENT,this.onStopScrolling,this),game.EventManager.getInstance().addEventListener(c.EventName.EVEVT_COLLECT_WID_ANI,this._pushCollectWildTaskData,this),game.EventManager.getInstance().addEventListener(c.EventName.FREE_GAME_OVER,this._resetNomalGame,this),game.EventManager.getInstance().addEventListener(c.EventName.EVENT_FLUSH_GAME_DATA,this._onSetUpdateData,this),game.EventManager.getInstance().addEventListener(c.EventName.EVENT_GUNZHOU_BEGIN,this.scrollStartEvent,this),game.EventManager.getInstance().addEventListener(slot.NetSlotConst.RESTORERESP,this.reOnline,this),this.cretorMidNode(),this.initEffectGame(),this.freeNodeContent.active=!1,this.freeRoleNodes.active=!1,this.showHideRollerBgCzEffect(!1)},t.prototype.start=function(){},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_TREAT_FULL_LINE_IN_LOOP,this.playFullLine,this),game.EventManager.getInstance().removeEventListener(c.EventName.EVENT_CLOUD_LEVEAL_ANI,this._creatorFreeRoleNodes,this),game.EventManager.getInstance().removeEventListener(c.EventName.EVENT_FREE_GAME_NUM,this._updateFreeGameNum,this),game.EventManager.getInstance().removeEventListener(c.EventName.EVENT_GUNZHOU_END_EVENT,this.onStopScrolling,this),game.EventManager.getInstance().removeEventListener(c.EventName.EVEVT_COLLECT_WID_ANI,this._pushCollectWildTaskData,this),game.EventManager.getInstance().removeEventListener(c.EventName.FREE_GAME_OVER,this._resetNomalGame,this),game.EventManager.getInstance().removeEventListener(c.EventName.EVENT_GUNZHOU_BEGIN,this.scrollStartEvent,this),game.EventManager.getInstance().removeEventListener(c.EventName.EVENT_FLUSH_GAME_DATA,this._onSetUpdateData,this),game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.RESTORERESP,this.reOnline,this)},t.prototype.initEffectGame=function(){this.hideRollerBgEffectAll(),this.ChangeBannerBg(),this.gainReRolle=!1,this.hideBannerEffect()},t.prototype.reOnline=function(e,t){this.currGameMode=t.state.state,t.state.state==slot.OperationState.Free&&this.onReLineFreeGame(t)},t.prototype.scrollStartEvent=function(){this.clearEffectLayerChildNode()},t.prototype.clearEffectLayerChildNode=function(){this.fiveLineWinNode&&(this.fiveLineWinNode.destroy(),this.fiveLineWinNode=null),this.effectLayer.removeAllChildren()},t.prototype.cretorMidNode=function(){this.mid_layoutNode_pre&&(cc.instantiate(this.mid_layoutNode_pre).parent=this.mid_PNode)},t.prototype.showRollerBgEffect=function(e){if(this.rollerContentBgNode){var t=this.rollerContentBgNode.children[e+1];t&&!t.active&&(t.active=!0)}},t.prototype.hideRollerBgEffectAll=function(){if(this.rollerContentBgNode)for(var e=0;e<this.rollerContentBgNode.childrenCount;e++){var t=this.rollerContentBgNode.children[e];t&&!t.active&&(t.active=!1)}},t.prototype.showHideRollerBgCzEffect=function(e){this.rollerLayoutBgEffect||(this.rollerLayoutBgEffect=this.rollerContentBgNode.getChildByName("bg_effect")),this.rollerLayoutBgEffect?(this.rollerLayoutBgEffect.active=e,e&&this.rollerLayoutBgEffect.getComponent(sp.Skeleton).setAnimation(0,"cz",!1)):console.warn("can not find bg_effect node!!")},t.prototype.ChangeBannerBg=function(e,t){var n=this;void 0===e&&(e=0),1==e?this.bannerBgNode[0]&&(this.bannerBgNode[0].parent.scale=1,this.bannerBgNode[0].active=!0,cc.Tween.stopAllByTarget(this.bannerBgNode[0]),this.scheduleOnce(function(){n.showBannerEffect(1)},.1),cc.tween(this.bannerBgNode[0].parent).to(.2,{scale:1.1}).to(.15,{scale:1}).union().repeat(2).call(function(){n.bannerBgNode[0].active=!1,n.bannerBgNode[1].active=!0,n.bannerBgNode[0].parent.scale=1,t&&t()}).start()):(this.bannerBgNode[0]&&(this.bannerBgNode[0].active=!0),this.bannerBgNode[1]&&(this.bannerBgNode[1].active=!1))},t.prototype.showBannerEffect=function(e){var t=this;if(void 0===e&&(e=0),!this.onPlayBannerEffect){this.onPlayBannerEffect=!0;var n=[["chuji win_back","chuji win_front"],["gaoji win_back","gaoji win_front"]],o=[["chuji win_loop","chuji win_out"],["gaoji win_loop","gaoji win_out"]];if(3==e)this.bannerEffectBack_1.node.active=!0,this.bannerEffectBack_1.setAnimation(0,o[this.showTypeWin][1],!1),this.bannerEffectBack_1.setCompleteListener(function(){t.bannerEffectBack_1.node.active=!1,t.bannerEffectBack_1.setCompleteListener(null),t.onPlayBannerEffect=!1});else{this.showTypeWin=e,this.bannerEffectBack_1.node.active=!1;for(var i=function(i){var a=r.bannerEffect[i];a.active=!0;var s=a.getComponent(sp.Skeleton);s&&(s.clearTracks(),s.setAnimation(0,n[e][i],!1),s.setCompleteListener(function(){0==i&&(0==t.showTypeWin?(s.setAnimation(0,o[0][0],!1),t.onPlayBannerEffect=!1,s.setCompleteListener(function(){a.active=!1,s.setCompleteListener(null)})):(a.active=!1,t.onPlayBannerEffect=!1,s.setCompleteListener(null),t.bannerEffectBack_1.node.active=!0,t.bannerEffectBack_1.setAnimation(0,o[e][0],!1),t.bannerEffectBack_1.setCompleteListener(null)))}))},r=this,a=0;a<this.bannerEffect.length;a++)i(a)}}},t.prototype.hideBannerEffect=function(){for(var e=0;e<this.bannerEffect.length;e++)this.bannerEffect[e].active=!1;this.onPlayBannerEffect=!1},t.prototype.playFullLine=function(){this.fiveLineWinNode||(this.fiveLineWinNode=cc.instantiate(this.fiveLineWin),this.fiveLineWinNode.parent=this.effectLayer);var e=this.fiveLineWinNode.getComponent(u.default);e&&e.play()},t.prototype.showBigSpriteLab=function(){var e=this;this.reRollerNode.active=!0;var t=function(){e.reRollerNode.setPosition(0,20),e.reRollerNode.opacity=100};t(),cc.tween(this.reRollerNode).to(.5,{y:-30,opacity:255}).delay(.5).to(.2,{opacity:0}).call(function(){t(),e.reRollerNode.active=!1}).start()},t.prototype.onStopScrolling=function(e,t){this.completeStepCb=null,this.currGameMode==slot.OperationState.Free?this.completeStepCb=t:t.run()},t.prototype._creatorFreeRoleNodes=function(e,t){this.initEffectGame(),this.mid_PNode.active=!1,this.freeRoleNodes.active=!0,this.freeNodeContent.active=!0,this.creatroFreeRoleNode(),this.initProgressNode(),this.setTimesNum(t),this.onFreeGame=!0,game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_SHOW_COMMON_BANNER),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_SETINFO,c.BannerDescr.ONFREE)},t.prototype.creatroFreeRoleNode=function(e){void 0===e&&(e=!1),this.freeRoleNodes.removeAllChildren();var t=cc.instantiate(this.freeRoleNodePre);this.freeGameRoleMng=t.getComponent(f.default),t.parent=this.freeRoleNodes,e&&this.freeGameRoleMng&&this.freeGameRoleMng.reLineCb()},t.prototype.initProgressNode=function(){var e=this;this.progressBlackBg=this.freeNodeContent.getChildByName("progressBlackBg"),this.progressBar=this.freeNodeContent.getChildByName("bonus_gem_bar"),this.numLight=this.freeNodeContent.getChildByName("numNodes").getChildByName("num_light"),this.numLight_scaleNode=this.numLight.getChildByName("scaleNode"),this.bonus_light=this.collectWildProgress.node.getChildByName("bonus_light"),this.num_particle=this.times_lab.node.getChildByName("numParticle"),this.barLightEffect=this.progressBar.getChildByName("barEffect"),this._resetProgressNodeState();var t=this.collectWildProgress.node.width,n=function(t){return e.collectWildProgress.node.convertToWorldSpaceAR(t)};this.moveToPosArr=[n(cc.v2(70+-t/2,0)),n(cc.v2(0,0)),n(cc.v2(t/2-20-50,0))],this.showHideProgress(!0)},t.prototype._resetProgressNodeState=function(){var e=this;this.onProgressMoving=!1,this.barLightEffect.x=0,this.numLight.active=!1,this.bonus_light.active=!1,this.numLight.setPosition(cc.v2()),this.numLight.scale=1,this.numLight_scaleNode.active=!1,this.numLight_scaleNode.scale=1,this.num_particle.active=!1,this.collectWildProgress.progress>0?cc.tween(this.progressBar).to(.2,{opacity:0}).call(function(){e.collectWildProgress.progress=0,e.progressBar.opacity=255,e.progressBar.active=!1}).start():(this.collectWildProgress.progress=0,this.progressBar.active=!1)},t.prototype._resetNomalGame=function(){this.onProgressMoving=!1,this.mid_PNode.active=!0,this.freeRoleNodes.active=!1,this.freeNodeContent.active=!1,this.freeRoleNodes.removeAllChildren(),this.numLight=null,this.numLight_scaleNode=null,this.progressBar=null,this.barLightEffect=null,this.bonus_light=null,this.num_particle=null,this.moveToPosArr=[],this.freeGameRoleMng=null,this.onFreeGame=!1,this.onRunCollectWildCb=!1,this.isALLChangeGold=!1,this.toChangeWildRoleArr=[],this.changeWildCount=0,this.progressIndex=0,this.totalCollectCount=0},t.prototype.onReLineFreeGame=function(e){if(game.EventManager.getInstance().raiseEvent(c.EventName.FREE_GAME_START),this.initEffectGame(),this.mid_PNode.active=!1,this.freeRoleNodes.active=!0,this.freeNodeContent.active=!0,this.initProgressNode(),this.onFreeGame=!0,e&&e.state&&e.state.freeData){if(this.toChangeWildRoleArr=[],this.toChangeWildRoleArr=e.state.freeData.wild,this.toChangeWildRoleArr&&this.toChangeWildRoleArr.length>0){var t=h.default.removeDuplicate(this.toChangeWildRoleArr);this.changeWildCount=t.length,this.isALLChangeGold=t.length>=4}var n=e.state.freeData.handleState.game_10014.data.taskList;if(n&&n.length>0){var o=n[0].num,i=n[0].maxNum;this.totalCollectCount=Math.min(i,o),this.progressIndex=o%3,this.totalCollectCount>=12&&this.showHideProgress(!1)}}this.progressIndex>0&&this.totalCollectCount<12?this.progressBar.active=!0:this.progressBar.active=!1,this.barLightEffect.x=this.progressBar.width,this.collectWildProgress.progress=.334*this.progressIndex,this.creatroFreeRoleNode(!0)},t.prototype.reLineChangeWild=function(){for(var e=this.getChangeWildSpinNode(),t=0;t<e.length;t++){var n=e[t];n.changeWildCb(n.data,!0)}},t.prototype._onSetUpdateData=function(e,t){var n=this;if(this.toChangeWildRoleArr=[],this.currGameMode==slot.OperationState.Free){var o=t.updateList;o&&o.length>0&&o.forEach(function(e){if(4==e.type)return n.toChangeWildRoleArr=e.value.wild,void n.toChangeWildRoleArr.sort(function(e,t){return t-e})})}},t.prototype._updateFreeGameNum=function(e,t){this.setTimesNum(t)},t.prototype.setTimesNum=function(e){this.times_lab.string=e+"",this.remainTimes=e,this.checkLastTime()},t.prototype._pushCollectWildTaskData=function(e,t){this.onFreeGame?t?this.isALLChangeGold?this._onChangeWildAni():this.doCollectWildAniCb(t):this.toChangeWildRoleArr.length>0?(this.onRunCollectWildCb=!1,this._onChangeWildAni()):this._onCompleteAniTask():this._onCompleteAniTask()},t.prototype.doCollectWildAniCb=function(e){return a(this,void 0,void 0,function(){var t,n,o,i,r,a,c,l,p=this;return s(this,function(h){switch(h.label){case 0:if(e.length<=0)return[2];this.onRunCollectWildCb=!0,t=12-this.totalCollectCount,n=e.length-t,o=[],o=n>0?e.slice(0,e.length-n):e.slice(),i=this.totalOneMax-this.progressIndex,r=o.splice(i),a=function(e){var t;return s(this,function(n){switch(n.label){case 0:return t=o[e].clone(),[4,c._collectWildCb(t,function(){e==o.length-1&&(p.doCollectWildAniCb(r),r.length<=0&&(p.onRunCollectWildCb=!1,p._onChangeWildAni()))})];case 1:return n.sent(),[2]}})},c=this,l=0,h.label=1;case 1:return l<o.length?[5,a(l)]:[3,4];case 2:h.sent(),h.label=3;case 3:return l++,[3,1];case 4:return[2]}})})},t.prototype._collectWildCb=function(e,t){var n=this;return new Promise(function(o){n.totalCollectCount++;var i=cc.instantiate(n.flyLightGroup);i.parent=n.effectLayer,i.scale*=1.5,n.progressIndex=n.progressIndex>n.moveToPosArr.length-1?n.moveToPosArr.length-1:n.progressIndex;var r=n.moveToPosArr[n.progressIndex],a=n.effectLayer.convertToNodeSpaceAR(e);i.setPosition(a);var s,c=n.effectLayer.convertToNodeSpaceAR(r),l=a.x+c.x;s=l<=0?l/2-200:l/2+200;var p=cc.v2(s,(a.y+c.y)/2),h=++n.progressIndex,u=.6,f=cc.Vec3.distance(cc.v3(a),cc.v3(c));f>0&&(u=6e-4*f),cc.tween(i).bezierTo(u,a,p,c).call(function(){n._progressAddAni(h,t)}).to(.2,{opacity:100}).call(function(){i.removeFromParent()}).start(),n.scheduleOnce(function(){o()},.5)})},t.prototype._progressAddAni=function(e,t){var n=this;cc.Tween.stopAllByTarget(this.collectWildProgress),this.onProgressMoving=!0,this.progressIndex>0&&(this.progressBar.active=!0);var o=.334*e;slot.SoundMger.instance.playEffect("Fs_Bar_Add"),cc.tween(this.collectWildProgress).to(.5,{progress:o}).call(function(){n.onProgressMoving=!1,o>=1?n._numScaleAni(function(){n.progressIndex=0,t&&t()}):(n.roleSmileAni(),n.scheduleOnce(function(){t&&t()},.5))}).start()},t.prototype._numScaleAni=function(e){var t=this;this.bonus_light.opacity=0,this.bonus_light.active=!0,this.numLight.opacity=0,this.numLight.active=!0,this.numLight_scaleNode.active=!0,this.numLight_scaleNode.scale=1;var n=function(e,t){cc.tween(e).to(.1,{opacity:255}).call(t).start()};cc.Tween.stopAllByTarget(this.bonus_light),cc.Tween.stopAllByTarget(this.numLight),slot.SoundMger.instance.playEffect("Fs_Chance_02"),n(this.bonus_light),n(this.numLight,function(){t.numLight_scaleNode.opacity=255,cc.tween(t.numLight_scaleNode).to(.2,{opacity:0,scale:2.2}).call(function(){t.isALLChangeGold?t._numFlyAni(e):t.roleToGoleAni(e),t.numLight_scaleNode.active=!1}).start()})},t.prototype.roleSmileAni=function(){this.freeGameRoleMng.onRoleSmileAni(this.rolePosId[this.changeWildCount])},t.prototype.roleToGoleAni=function(e){var t=this;this.freeGameRoleMng.onPlayToGoldAni(this.rolePosId[this.changeWildCount],function(){t.changeWildCount++;var n=t.rolePosId.length;t.isALLChangeGold=t.changeWildCount>=n,t.changeWildCount=t.changeWildCount>n?n:t.changeWildCount,t._numFlyAni(e)})},t.prototype._numFlyAni=function(e){var t=this;this.numLight.active=!0,cc.Tween.stopAllByTarget(this.numLight);var n=this.numLight.parent.convertToWorldSpaceAR(this.numLight.getPosition()),o=this.times_lab.node.parent.convertToWorldSpaceAR(this.times_lab.node.getPosition()),i=n.y-o.y,r=cc.v2(o.x,i+100),a=this.numLight.parent.convertToNodeSpaceAR(n),s=this.numLight.parent.convertToNodeSpaceAR(o),c=this.numLight.parent.convertToNodeSpaceAR(r);slot.SoundMger.instance.playEffect("Fs_Move_02"),cc.tween(this.numLight).to(.15,{scale:2}).bezierTo(.5,a,c,s).to(.1,{scale:0}).call(function(){t.isALLChangeGold&&(t.showHideProgress(!1),t.progressBar.active=!1),t.num_particle.active=!0;var n=t.num_particle.getComponent(sp.Skeleton);n.clearTracks(),n.setAnimation(0,"fscx_front_loop",!1),slot.SoundMger.instance.playEffect("Fs_Chance_Add");var o=+t.times_lab.string+2;t.scheduleOnce(function(){t.freeGameRoleMng.roundMove(e),t._resetProgressNodeState()},.5),t.setTimesNum(o)}).start()},t.prototype.getChangeWildSpinNode=function(){for(var e=[],t=p.default.instance.scroller,n=[[],[],[],[],[]],o=0,i=0,r=0;r<t.renders.length;r++){for(var a=t.renders[r],s=0;s<this.toChangeWildRoleArr.length;s++){var c=this.toChangeWildRoleArr[s];a.data==c&&n[o].push(a)}3==++i&&(i=0,o++)}for(r=0;r<n.length;r++){var l=n[r];for(s=l.length-1;s>=0;s--){var h=l[s];e.push(h)}}return e},t.prototype.getChangeWildSpinNode2=function(){for(var e=p.default.instance.scroller,t=[],n=0,o=0,i=0;i<e.renders.length;i++){for(var r=e.renders[i],a=0;a<this.toChangeWildRoleArr.length;a++){var s=this.toChangeWildRoleArr[a];r.data==s&&(t[n]||(t[n]=[]),t[n].unshift(r))}3==++o&&(o=0,n++)}return t},t.prototype._onChangeWildAni=function(){var e=this;if(!this.onRunCollectWildCb){var t=this.getChangeWildSpinNode2();t.length>0?this.freeGameRoleMng.onChangeWildAniStart(function(){e.moveStarParticlePNode.removeAllChildren();for(var n=[],o=cc.v2(),i=0;i<t.length;i++){var r=t[i];if(r)for(var a=0;a<r.length;a++){var s=r[a];if(s){var c=s.parent.convertToWorldSpaceAR(s.getPosition()),l=e.moveStarParticlePNode.convertToNodeSpaceAR(c);n[i]||(n[i]=[o.clone()]),n[i].push(l),0==a&&(o=l.clone())}}}var p=0,h=[],u=-1;for(i=0;i<n.length;i++){var f=n[i];if(f&&f.length>=2){if(-1==u)h[i]=0;else{var d=n[u];p+=.001*cc.Vec3.distance(d[0],d[1]),h[i]=p}u=i}}var _=function(n,o,i){if(o.length>0){for(var r=cc.tween(n),a=function(a){var s=.001*cc.Vec3.distance(o[a-1],o[a]);r.then(cc.tween(n).call(function(){slot.SoundMger.instance.stopEffect("Fs_Trajectory"),slot.SoundMger.instance.playEffect("Fs_Trajectory")}).to(s,{position:cc.v3(o[a])}).call(function(){slot.SoundMger.instance.playEffect("Fs_Symbol_Turn");var r=t[i][a-1];if(r){var s=r;s.changeWildCb(s.data)}a==o.length-1&&e.scheduleOnce(function(){n.destroy()},.1)}))},s=1;s<o.length;s++)a(s);r.start()}},m=function(o){var i=t[o];i&&i.length>0&&e.scheduleOnce(function(){var t=cc.instantiate(e.moveStarParticle);t.setPosition(n[o][0]),t.parent=e.moveStarParticlePNode;var i=n[o];_(t,i,o)},h[o])};for(i=0;i<t.length;i++)m(i);e.scheduleOnce(function(){e.freeGameRoleMng.onChangeWildAniEnd(function(){e._onCompleteAniTask()})},p+.4)}):(this.freeGameRoleMng.roundMoveLoop(),this._onCompleteAniTask())}},t.prototype._onChangeWildAni2=function(){var e=this;if(!this.onRunCollectWildCb){var t=this.getChangeWildSpinNode();t.length>0?this.freeGameRoleMng.onChangeWildAniStart(function(){e.moveStarParticlePNode.removeAllChildren();var n=cc.instantiate(e.moveStarParticle);n.setPosition(cc.v2()),n.parent=e.moveStarParticlePNode;for(var o=[],i=0;i<t.length;i++){var r=t[i],a=r.parent.convertToWorldSpaceAR(r.getPosition()),s=e.moveStarParticlePNode.convertToNodeSpaceAR(a);o.push(s)}var c=0,l=function(i){if(i){var r=.4,a=o[c-1];a&&(r=.001*cc.Vec3.distance(a,i)),slot.SoundMger.instance.stopEffect("Fs_Trajectory"),slot.SoundMger.instance.playEffect("Fs_Trajectory"),cc.tween(n).call(function(){var e=t[c];e.changeWildCb(e.data)}).to(r,{x:i.x,y:i.y}).call(function(){slot.SoundMger.instance.playEffect("Fs_Symbol_Turn"),l(o[++c])}).start()}else n.destroy(),e.freeGameRoleMng.onChangeWildAniEnd(function(){e._onCompleteAniTask()})};l(o[c])}):(this.freeGameRoleMng.roundMoveLoop(),this._onCompleteAniTask())}},t.prototype.checkLastTime=function(){this.remainTimes>0?(this.remainFreeTimes.active=!0,this.lastFreeTimes.active=!1,this.times_lab.node.active=!0):(this.remainFreeTimes.active=!1,this.lastFreeTimes.active=!0,this.times_lab.node.active=!1)},t.prototype._onCompleteAniTask=function(){this.completeStepCb?this.completeStepCb.run():console.log("----this completeStepCb is -------",this.completeStepCb)},t.prototype.showHideProgress=function(e){this.collectWildProgress.node.active=e,this.numLight.parent.active=e,this.numLight_scaleNode.active=e,this.progressBlackBg.active=e},t.prototype.playRoleSoundEffect=function(e,t){var n="",o=0;switch(e){case c.SlotCardType.SANDY:o=.1,n=t[0];break;case c.SlotCardType.PIG:n=t[1];break;case c.SlotCardType.MONKEY:o=.5,n=t[2];break;case c.SlotCardType.MONK:n=t[3]}""!=n&&this.scheduleOnce(function(){slot.SoundMger.instance.playEffect(n)},o)},t.prototype.update=function(){this.onProgressMoving&&(this.barLightEffect.x=this.progressBar.width)},t.instance=null,r([m(cc.Node)],t.prototype,"rollerContentBgNode",void 0),r([m(cc.Node)],t.prototype,"mid_PNode",void 0),r([m(cc.Prefab)],t.prototype,"mid_layoutNode_pre",void 0),r([m(cc.Prefab)],t.prototype,"fiveLineWin",void 0),r([m([cc.Node])],t.prototype,"bannerBgNode",void 0),r([m([cc.Node])],t.prototype,"bannerEffect",void 0),r([m(sp.Skeleton)],t.prototype,"bannerEffectBack_1",void 0),r([m(cc.Node)],t.prototype,"reRollerNode",void 0),r([m(cc.Node)],t.prototype,"freeRoleNodes",void 0),r([m(cc.Prefab)],t.prototype,"freeRoleNodePre",void 0),r([m(cc.Node)],t.prototype,"freeNodeContent",void 0),r([m(cc.ProgressBar)],t.prototype,"collectWildProgress",void 0),r([m({type:cc.Node,tooltip:"\u5269\u4f59\u514d\u8d39\u65cb\u8f6c\u6b21\u6570lab"})],t.prototype,"remainFreeTimes",void 0),r([m(l.default)],t.prototype,"times_lab",void 0),r([m({type:cc.Node,tooltip:"\u6700\u540e\u514d\u8d39\u65cb\u8f6clab"})],t.prototype,"lastFreeTimes",void 0),r([m({type:cc.Node,tooltip:"\u7279\u6548\u5c42"})],t.prototype,"effectLayer",void 0),r([m(cc.Prefab)],t.prototype,"flyLightGroup",void 0),r([m(cc.Node)],t.prototype,"moveStarParticlePNode",void 0),r([m(cc.Prefab)],t.prototype,"moveStarParticle",void 0),n=r([_],t)}(cc.Component);n.default=g,cc._RF.pop()},{"../GameEventName111005401":"GameEventName111005401","../NumAtlasLabel111005401":"NumAtlasLabel111005401","../roller/GameLayer111005401":"GameLayer111005401","./CommonLogic111005401":"CommonLogic111005401","./FiveLineWin111005401":"FiveLineWin111005401","./FreeGameRoleMng111005401":"FreeGameRoleMng111005401"}],GameEventName111005401:[function(e,t,n){"use strict";cc._RF.push(t,"ca65fGvksNAQrdlFI+FdLPW","GameEventName111005401"),Object.defineProperty(n,"__esModule",{value:!0}),n.ECurPlayDataKey=n.BannerDescr=n.CardIdName=n.SlotCardType=n.WinType=n.EventName=void 0,function(e){e.FREE_GAME_START="FREE_GAME_START",e.FREE_GAME_OVER="FREE_GAME_OVER",e.EVENT_FREE_GAME_NUM="EVENT_FREE_GAME_NUM",e.EVENT_CLEAR_FREE_GAME_VIEW="EVENT_CLEAR_FREE_GAME_VIEW",e.EVENT_FLUSH_GAME_DATA="EVENT_FLUSH_GAME_DATA",e.EVENT_IS_NO_ENTER_ROOM="EVENT_IS_NO_ENTER_ROOM",e.EVENT_GUNZHOU_END_EVENT="EVENT_GUNZHOU_END_EVENT",e.EVENT_GUNZHOU_BEGIN="EVENT_GUNZHOU_BEGIN",e.EVENT_SINGEL_SPINSLOT_CHANGEWILD_FRONT="EVENT_SINGEL_SPINSLOT_CHANGEWILD_FRONT",e.EVENT_SINGEL_SPINSLOT_CHANGEWILD="EVENT_SINGEL_SPINSLOT_CHANGEWILD",e.EVENT_SHOW_COMMON_BANNER="EVENT_SHOW_COMMON_BANNER",e.EVENT_SHOW_WIN_BANNER="EVENT_SHOW_WIN_BANNER",e.EVENT_SHOW_TOTAL_WIN_BANNER="EVENT_SHOW_TOTAL_WIN_BANNER",e.EVENT_ROLE_JUMP="EVENT_ROLE_JUMP",e.EVENT_ROLE_RUN="EVENT_ROLE_RUN",e.EVENT_ROLE_HAPPY_PLAY="EVENT_ROLE_HAPPY_PLAY",e.EVENT_CLOUD_LEVEAL_ANI="EVENT_CLOUD_LEVEAL_ANI",e.EVEVT_COLLECT_WID_ANI="EVEVT_COLLECT_WID_ANI",e.EVENT_LINE_UPDATESCORES="EVENT_LINE_UPDATESCORES"}(n.EventName||(n.EventName={})),function(e){e.SuperWin="SuperWin",e.MargeWin="MargeWin",e.BigWin="BigWin",e.Lose="Lose",e.win="win",e.fiveEven="fiveEven",e.wild="wild"}(n.WinType||(n.WinType={})),function(e){e[e.SANDY=5]="SANDY",e[e.PIG=6]="PIG",e[e.MONKEY=7]="MONKEY",e[e.MONK=8]="MONK",e[e.WILD=9]="WILD",e[e.SCATTER=10]="SCATTER"}(n.SlotCardType||(n.SlotCardType={})),n.CardIdName=["","j","q","a","k","sandy","pig","monkey","monk"],function(e){e[e.NORMAL=0]="NORMAL",e[e.REROLLE=1]="REROLLE",e[e.ONCHANGESYMBLE=2]="ONCHANGESYMBLE",e[e.ONFREE=3]="ONFREE"}(n.BannerDescr||(n.BannerDescr={})),function(e){e.FREE_GAME_PROGREE_INDEX="FREE_GAME_PROGREE_INDEX",e.FREE_GAME_COLLECT_WILD_COUNT="FREE_GAME_COLLECT_WILD_COUNT"}(n.ECurPlayDataKey||(n.ECurPlayDataKey={})),cc._RF.pop()},{}],GameLayer111005401:[function(e,t,n){"use strict";cc._RF.push(t,"03dfd0k2WFPcJVsFSNgFaM+","GameLayer111005401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../common/CommonLogic111005401"),s=e("../common/GameEffectMng111005401"),c=e("../GameEventName111005401"),l=e("../main/Main111005401"),p=e("./scrollerSkins/JTChildManager111005401"),h=e("./scrollerSkins/JTLayerManager111005401"),u=e("./scrollerSkins/JTLogicFactroy111005401"),f=cc._decorator,d=f.ccclass,_=f.property,m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.roller=null,t.blackMask=null,t.freeGameResultPrefab=null,t.onUpdateScore=!1,t.currGameMode=slot.OperationState.Normal,t.showTatalWin=!1,t.curr_gold=null,t.scatterTask=null,t.wildTask=null,t.scroller=null,t.isRunningJiaSu=!1,t.isAddBigWinCoin=!0,t.countScatterNum=0,t.get_data_cfg=[],t.change_gride_data_cfg=[],t.curr_prto=null,t.hasWinLine=!1,t.onReSrollAni=!1,t.onCollectWildAni=!1,t.changeRoleId=[],t}var n;return i(t,e),n=t,Object.defineProperty(t,"instance",{get:function(){return n._instance},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){n._instance=this,slot.SlotConfigManager.instance.registerJPTypes(3),e.prototype.onLoad.call(this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_PLAYER_CLICKED_SINGLE_START_BTN,this.clickGameControlBtn,this),game.EventManager.getInstance().addEventListener(slot.NetSlotConst.SPINRESP,this._onRollingResp,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_CLICK_ELEMENT_VIEW,this.clickSlotItem,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_SHOW,this._showPayInfoPanel,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_HIDE,this._hidePayInfoPanel,this),game.EventManager.getInstance().addEventListener(slot.NetSlotConst.RESTORERESP,this.reOnline,this),game.EventManager.getInstance().addEventListener(c.EventName.EVENT_SINGEL_SPINSLOT_CHANGEWILD_FRONT,this.changeWildByRole,this)},t.prototype.onDestroy=function(){this.dispose(),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_PLAYER_CLICKED_SINGLE_START_BTN,this.clickGameControlBtn,this),game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.SPINRESP,this._onRollingResp,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_CLICK_ELEMENT_VIEW,this.clickSlotItem,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_SHOW,this._showPayInfoPanel,this),game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.RESTORERESP,this.reOnline,this),game.EventManager.getInstance().removeEventListener(c.EventName.EVENT_SINGEL_SPINSLOT_CHANGEWILD_FRONT,this.changeWildByRole,this)},t.prototype.reOnline=function(e,t){console.log("---\u65ad\u7ebf\u91cd\u8fde---"),this.curr_gold=Number(t.userInfo.balance),this.currGameMode=t.state.state,this.currGameMode==slot.OperationState.Normal&&(this.changeRoleId=[],this.changeRoleId=t.state.normalData.wild),this.reBackShowCb()},t.prototype.start=function(){game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_SHOW_COMMON_BANNER),a.default.srollerLine=3,this.onUpdateScore=!1},t.prototype.refreshRoom=function(){game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_IS_NO_ENTER_ROOM,!0)},t.prototype.onInit=function(){slot.SpinManager.instance.isFullLineAvailable=!1,this._initSlotMachineView()},t.prototype.clickGameControlBtn=function(){},t.prototype.onInitScroller=function(e){var t=this.scroller=e.scroller,o=slot.SlotConfigManager.instance.DataGame.getData(slot.SlotConfigManager.instance.gameID);t.setupFactory(new h.default,new p.default,new u.default);var i=t.options(slot.JTScrollingPipeline,slot.JTScrollerGroup.USE_CONVERT_MROE_LIST,o.column,e.scrollingComplete);i.childOption(slot.JTCreateScrolling,slot.JTOptionType.OPTION_CREATE),i.childOption(slot.JTBeginScrolling,slot.JTOptionType.OPTION_BEGIN_RUNNING,e.beginScrolling),i.childOption(slot.JTRunScrolling,slot.JTOptionType.OPTION_RUNNING,e.onSpinPreStop),i.childOption(slot.JTOverScrolling,slot.JTOptionType.OPTION_OVER_RUNNING,e.scrollingProgress),t.setupDefaultItemList(this.getSourceList,slot.SlotConfigManager.instance.DataElement.getKeys(),!1,this.getFreeSourceList),slot.JTDefaultItemRender.setPlayCoinIndex(2,7),slot.EliminateEffectUtils.elePlayAni=slot.Handler.create(this,this.playPrizeAni,[],!1),this.scatterTask=new slot.JTScatterTask,this.scatterTask.config(c.SlotCardType.SCATTER,[{index:1,id:c.SlotCardType.SCATTER},{index:2,id:c.SlotCardType.SCATTER}],"10-150-2.5",0,1200,"animations/cardAni/jiasu",!0,null,function(e){this.scheduleOnce(function(){slot.SoundMger.instance.playEffect(slot.SOUND_NAME.Reel_Quick)},.1),n.instance.isRunningJiaSu=!0,e.skinLoader.getChildByName("Animation").getComponent(cc.Sprite).dstBlendFactor=cc.macro.BlendFactor.ONE,e.skinLoader.y=-240,e.skinLoader.x=e.x+72,e.skinLoader.scaleX=1,e.skinLoader.scaleY=1,e.skinLoader.aniName="jiasu-light-loop"},slot.JTScatterTask.APPOINT_MODE,[3]),t.registerTask(slot.JTRuleTaskManager.TYPE_SCATTER,this.scatterTask,new slot.JTTaskContainer),this.slotMachine.playRenderInterval=0,slot.MainView.instance.node.getChildByName("menu").getChildByName("openBtn").scale=.7,this.scatterTask.callScatterComplete=function(e){e.skinLoader.active=!1}},t.prototype.clickSlotItem=function(){},t.prototype._showPayInfoPanel=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.blackMask.active=!0;var o=t[0];if(o==c.SlotCardType.WILD||o==c.SlotCardType.SCATTER){if(a=t[4]){var i=a.getChildByName("imageSk"),r=i.getComponent(sp.Skeleton);r.setAnimation(0,"win",!1),r.setCompleteListener(function(){r.setAnimation(0,"idle",!0),r.setEndListener(null)})}}else if(o<c.SlotCardType.SANDY){var a,s=(a=t[4]).getChildByName("elementImage");s&&(s.scale=1,cc.Tween.stopAllByTarget(s),cc.tween(s).delay(.08).to(.2,{scale:1.2}).to(.15,{scale:1}).start())}},t.prototype._hidePayInfoPanel=function(){this.blackMask.active=!1},t.prototype._initSlotMachineView=function(){slot.EliminateEffectUtils.setup(1500,.12,.08,.1,.8,.1,slot.EliminateDisappearUtils.disappearTime,slot.EliminateDisappearUtils.disappreaDelayTime),this.slotMachine.spaceX=-10,this.slotMachine.spaceY=0,this.slotMachine.gridWidth=149,this.slotMachine.gridHeight=155,this.slotMachine.showLineInterval=2e3,this.slotMachine.afterRender(this,this._rederAfter),this._registerSlotMachineAnimation()},t.prototype.playPrizeAni=function(){},t.prototype._rederAfter=function(){slot.SpinManager.instance.spinTouchEnable=!0,slot.SlotMachineView.instance.scroller.elementBlackGround.width=0,slot.SlotMachineView.instance.scroller.elementBlackGround.opacity=0,this.reBackShowCb()},t.prototype.reBackShowCb=function(){this.reBackShowRenderAni(),this.currGameMode==slot.OperationState.Normal?this.reBackChangeWildByRole():this.currGameMode==slot.OperationState.Free&&s.default.instance.reLineChangeWild()},t.prototype._registerSlotMachineAnimation=function(){this.slotMachine.onContinuousNotWinAnimation(this,this._playContinuousNotWinAnimation),this.slotMachine.onNormalRewardsAnimation(this,this._playNormalRewardsAnimation),this.slotMachine.onFullLineAnimation(this,this._playFullLineAnimation),this.slotMachine.onGreatRewardsAnimation(this,this._playGreatRewardsAnimation),this.slotMachine.onMiddleRewardsAnimation(this,this._playMiddleRewardsAnimation),this.slotMachine.onSmallRewardsAnimation(this,this._playSmallRewardsAnimation),this.slotMachine.onSpinStart(this,this._onSpinStart),this.slotMachine.onSpinStop(this,this._onSpinStop),this.slotMachine.onSpinComplete(this,this._onSpinComplete),this.slotMachine.onSpinBegin(this,this._onSpinBegin)},t.prototype._onSpinComplete=function(){var e=this;slot.SpinManager.instance.spinTouchEnable=!0,this.curr_prto&&this.curr_prto.state&&this.curr_prto.state==slot.OperationState.Free&&this.scheduleOnce(function(){e.getWildPos()},.1)},t.prototype._onSpinStop=function(e){var t=this,n=!1;a.default.getCountOnSingelScroller(e,c.SlotCardType.SCATTER)>0&&(n=!0,slot.SoundMger.instance.playEffect("Scatter_Show"),e>0&&s.default.instance.showRollerBgEffect(e)),a.default.getCountOnSingelScroller(e,c.SlotCardType.WILD)>0&&(s.default.instance.currGameMode==slot.OperationState.Free?slot.SoundMger.instance.playEffect("Fs_Wild"):slot.SoundMger.instance.playEffect("Wild")),this.currGameMode==slot.OperationState.Normal&&this.isRunningJiaSu&&3==e&&(n?this.scheduleOnce(function(){for(var e=0;e<t.scroller.renders.length;e++){var n=t.scroller.renders[e];if(n.data==c.SlotCardType.SCATTER){n.setAnimation(slot.JTGLoaderAssetType.Skeleton,"win");var o=n.skinLoader.skeletonNode.getComponent(sp.Skeleton);o.node.active=!1,o.node.active=!0,o.setAnimation(0,"win",!0)}}slot.SoundMger.instance.playEffect("Free_Start_Sound")},.2):(slot.SoundMger.instance.playEffect("Respin_Trigger"),s.default.instance.showBigSpriteLab()),this.isRunningJiaSu=!1)},t.prototype._onRollingResp=function(e,t){t.spinResult.grid.length>0&&(this.get_data_cfg=t.spinResult.grid.slice(),this.change_gride_data_cfg=t.randomElemPos,a.default.srollerData=this.get_data_cfg),this.curr_prto=t,this.changeRoleId=[],this.changeRoleId=a.default.getChangeWildId(this.curr_prto),game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_FLUSH_GAME_DATA,this.curr_prto),this.hasWinLine=!1,t&&t.spinResult&&t.spinResult.spinCoin&&Number(t.spinResult.spinCoin)>0&&Number(t.spinResult.spinCoin)/slot.SpinManager.instance.betCost>5&&(this.hasWinLine=!0)},t.prototype._onSpinStart=function(){},t.prototype._onSpinBegin=function(){a.default.srollerData=[],this.isRunningJiaSu=!1,s.default.instance.initEffectGame(),game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_GUNZHOU_BEGIN),this.onReSrollAni||(game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_SHOW_COMMON_BANNER),this.currGameMode==slot.OperationState.Normal?game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_SETINFO,c.BannerDescr.NORMAL):game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_SETINFO,c.BannerDescr.ONFREE)),this.onUpdateScore=!1;for(var e=0;e<slot.SlotMachineView.instance.scroller.items.length;e++)for(var t=slot.SlotMachineView.instance.scroller.items[e],n=0;n<t.childrenCount;n++){var o=t.children[n];o.scale=1,o.onStopAnimation(),o.skinLoader.skeletonNode.getComponent(sp.Skeleton)}},t.prototype._playContinuousNotWinAnimation=function(e,t){t.run()},t.prototype._playNormalRewardsAnimation=function(e,t){this.showWinAniView(slot.WinAniType.Normal,e,t)},t.prototype._playFullLineAnimation=function(e,t){t.run()},t.prototype._playGreatRewardsAnimation=function(e,t){this.showWinAniView(slot.WinAniType.Great,e,t)},t.prototype._playMiddleRewardsAnimation=function(e,t){this.showWinAniView(slot.WinAniType.Middle,e,t)},t.prototype._playSmallRewardsAnimation=function(e,t){this.showWinAniView(slot.WinAniType.Small,e,t)},t.prototype.addEventListener=function(){e.prototype.addEventListener.call(this)},t.prototype.removeEventListener=function(){e.prototype.removeEventListener.call(this)},t.prototype.addFreeSpinsAni=function(e,t,n){switch(s.default.instance.currGameMode=t.type,this.currGameMode=t.type,t.type){case slot.OperationState.Free:slot.SoundMger.instance.stopMusic(slot.SOUND_NAME.Game_Back_Music),game.UIManager.getInstance().open(l.UIID.BONUS_GAME_POPUP,[t,n,"free"]),this.scheduleOnce(function(){slot.SoundMger.instance.playMusic("FreeGame_Back_Music",!0)},.2);break;case slot.OperationState.ReSpin:s.default.instance.gainReRolle=!0,n.runWith(!0);break;default:n.runWith(!0)}},t.prototype.onInitFreeGame=function(e,t){switch(console.log("oniniffreegame",e),s.default.instance.currGameMode=e.type,this.currGameMode=e.type,e.type){case slot.OperationState.Free:console.log("\u65ad\u7ebf\u91cd\u8fde"),game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_FREE_GAME_NUM,e.times),slot.SoundMger.instance.playMusic("FreeGame_Back_Music",!0),t.runWith(!0),slot.SpinManager.instance.isInTurbo=!1,this.scheduleOnce(function(){slot.FreeGameManager.instance.try()},.2);break;case slot.OperationState.ReSpin:s.default.instance.showHideRollerBgCzEffect(!0),s.default.instance.gainReRolle=!0,game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_SHOW_COMMON_BANNER),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_SETINFO,c.BannerDescr.REROLLE),this.scheduleOnce(function(){slot.FreeGameManager.instance.try(),game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_ROLE_RUN)},.2),this.onReSrollAni=!0,t.runWith(!0);break;default:t.runWith(!0)}},t.prototype.onFreeGameTriggered=function(e,t){switch(console.log("\u89e6\u53d1\u4e86\u514d\u8d39\u6e38\u620f(\u5305\u62ec\u91cd\u8f6c)-onFreeGameTriggered",e.times),e.type){case slot.OperationState.Free:game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_FREE_GAME_NUM,e.sumTimes),slot.SpinManager.instance.isInTurbo=!1,this.scheduleOnce(function(){t.runWith(!0)},1.5);break;case slot.OperationState.ReSpin:s.default.instance.showHideRollerBgCzEffect(!0),this.onReSrollAni=!0,game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_SHOW_COMMON_BANNER),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_SETINFO,c.BannerDescr.REROLLE),game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_ROLE_RUN),t.runWith(!0);break;default:t.runWith(!0)}},t.prototype.onFreeGameInfoUpdated=function(e){switch(console.log("\u514d\u8d39\u6e38\u620f\u66f4\u65b0\u4e86(\u5305\u62ec\u91cd\u8f6c)-onFreeGameInfoUpdated"),e.type){case slot.OperationState.Free:case slot.OperationState.ReSpin:}},t.prototype.onFreeGameOver=function(e,t){var n=this;switch(console.log(" \u514d\u8d39\u6e38\u620f\u7ed3\u675f\u4e86(\u5305\u62ec\u91cd\u8f6c)-onFreeGameOver",e),e.type){case slot.OperationState.Free:this.onCollectWildAni=!1,1==slot.GameControlBase.instance.fastBtnState?slot.SpinManager.instance.isInTurbo=!0:slot.SpinManager.instance.isInTurbo=!1,this.scheduleOnce(function(){var o=slot.Handler.create(n,function(){game.EventManager.getInstance().raiseEvent(c.EventName.FREE_GAME_OVER),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_SETINFO,c.BannerDescr.NORMAL),t.runWith(!0)});game.UIManager.getInstance().open(l.UIID.FREE_GAME_RESULT,[e,o,"freegameover"])},2);break;case slot.OperationState.ReSpin:console.log("\u91cd\u8f6c\u7ed3\u675f\uff01\uff01"),s.default.instance.showHideRollerBgCzEffect(!1),game.EventManager.getInstance().raiseEvent(slot.GameEventNames.EVENT_SLOT_BANNER_SETINFO,c.BannerDescr.NORMAL),this.onReSrollAni=!1,t.runWith(!0);break;default:t.runWith(!0)}s.default.instance.currGameMode=slot.OperationState.Normal,this.currGameMode=slot.OperationState.Normal},t.prototype.onFreeGameTriggerAgain=function(e,t){switch(console.log("\u8d39\u4e2d\u514d\u8d39 \u5f53\u5c40\u7684\u6570\u636e-onFreeGameTriggerAgain",e),e.type){case slot.OperationState.Free:case slot.OperationState.ReSpin:}t.run()},t.prototype.onFreeGameTimesUpdated=function(e){console.log("\u514d\u8d39\u6e38\u620f(\u91cd\u8f6c)\u6b21\u6570\u66f4\u65b0\u4e86",e),game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_FREE_GAME_NUM,e)},t.prototype.onBonusGameTriggered=function(e,t){slot.Handler.create(this,function(){}),t.runWith(!0)},t.prototype.onBonusGameOver=function(e,t){t.runWith(!0)},t.prototype.reBackShowRenderAni=function(){if(this.scroller&&this.scroller.renders)for(var e=0;e<this.scroller.renders.length;e++){var t=this.scroller.renders[e];if(t.data>=c.SlotCardType.WILD&&(t.setAnimation(slot.JTGLoaderAssetType.Skeleton,"idle"),t.skinLoader.skeletonNode.scale=.7,t.data==c.SlotCardType.SCATTER)){var n=Math.ceil((e+1)/3)-1;n=n<=0?0:n,s.default.instance.showRollerBgEffect(n)}}},t.prototype.changeWildByRole=function(){for(var e=0;e<this.changeRoleId.length;e++){var t=this.changeRoleId[e];if(t)for(var n=0;n<this.scroller.renders.length;n++)this.scroller.renders[n].changeWildCb(t)}game.EventManager.getInstance().raiseEvent(c.EventName.EVENT_SINGEL_SPINSLOT_CHANGEWILD)},t.prototype.reBackChangeWildByRole=function(){if(this.scroller)for(var e=0;e<this.changeRoleId.length;e++){var t=this.changeRoleId[e];if(t)for(var n=0;n<this.scroller.renders.length;n++)this.scroller.renders[n].changeWildCb(t,!0)}},t.prototype.getWildPos=function(){this.onCollectWildAni=!0;for(var e=[],t=0;t<this.scroller.renders.length;t++){var n=this.scroller.renders[t];if(n.data==c.SlotCardType.WILD){var o=new cc.Vec2;n.getPosition(o);var i=n.parent.convertToWorldSpaceAR(o);e.push(i)}}e.length>0?game.EventManager.getInstance().raiseEvent(c.EventName.EVEVT_COLLECT_WID_ANI,e):game.EventManager.getInstance().raiseEvent(c.EventName.EVEVT_COLLECT_WID_ANI)},t._instance=null,r([_(cc.Node)],t.prototype,"roller",void 0),r([_(cc.Node)],t.prototype,"blackMask",void 0),r([_({type:cc.Prefab,tooltip:"\u514d\u8d39\u6e38\u620f\u7ed3\u7b97\u9884\u5236"})],t.prototype,"freeGameResultPrefab",void 0),n=r([d],t)}(slot.AbstractMainView);n.default=m,cc._RF.pop()},{"../GameEventName111005401":"GameEventName111005401","../common/CommonLogic111005401":"CommonLogic111005401","../common/GameEffectMng111005401":"GameEffectMng111005401","../main/Main111005401":"Main111005401","./scrollerSkins/JTChildManager111005401":"JTChildManager111005401","./scrollerSkins/JTLayerManager111005401":"JTLayerManager111005401","./scrollerSkins/JTLogicFactroy111005401":"JTLogicFactroy111005401"}],GameOpenEffect111005401:[function(e,t,n){"use strict";cc._RF.push(t,"6e80aGUTDhPGL/bi+KT3HQs","GameOpenEffect111005401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.whiteBg=null,t.cloud_left=null,t.cloud_right=null,t}return i(t,e),t.prototype.onLoad=function(){this.whiteBg=this.node.getChildByName("whiteBg"),this.cloud_left=this.node.getChildByName("bonus_cloud_a"),this.cloud_right=this.node.getChildByName("bonus_cloud_b")},t.prototype.onEnable=function(){this._onInit()},t.prototype._onInit=function(){this.node.opacity=255,this.whiteBg.opacity=255,this.cloud_left.x=50,this.cloud_right.x=-50},t.prototype.onPlayShow=function(e){this._onInit(),this.node.opacity=0,cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).to(.5,{opacity:255}).call(function(){e&&e()}).start()},t.prototype.onPlayHide=function(e){this._onInit();for(var t=[this.whiteBg,this.cloud_left,this.cloud_right],n=0;n<t.length;n++){var o=t[n];cc.Tween.stopAllByTarget(o)}slot.SoundMger.instance.playEffect("Cloud_Move"),cc.tween(this.whiteBg).to(1,{opacity:0}).call(function(){e&&e()}).start(),cc.tween(this.cloud_left).to(1,{x:-500}).start(),cc.tween(this.cloud_right).to(1,{x:500}).start()},r([s],t)}(cc.Component));n.default=c,cc._RF.pop()},{}],GameRole111005401:[function(e,t,n){"use strict";cc._RF.push(t,"f08e6mRn+FBUowdR9n9tmLR","GameRole111005401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../GameEventName111005401"),s=e("./GameEffectMng111005401"),c=cc._decorator,l=c.ccclass,p=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.roleId=0,t.roleName="",t.aniCom=null,t.finishEvenName="finished",t.skeExit=null,t.skeAttack=null,t.spriteNode=null,t.chooseLight=null,t.attackEffect=null,t.bodyLightEffect=null,t}return i(t,e),t.prototype.init=function(e,t,n,o,i){this.roleId=e,this.roleName=a.CardIdName[e],this.aniCom=this.node.getComponent(cc.Animation),t&&(this.skeExit=t),n&&(this.skeAttack=n),this.spriteNode=this.node.getComponentInChildren(cc.Sprite).node,this.chooseLight=this.node.getChildByName("xz").getComponent(sp.Skeleton),o&&(this.attackEffect=o),i&&(this.bodyLightEffect=i),this.bodyLightEffect&&(this.bodyLightEffect.node.active=!1)},t.prototype.start=function(){},t.prototype.onwalk=function(){this.aniCom&&this.aniCom.play(this.roleName+"_wolk")},t.prototype.onJump=function(){var e=this;if(s.default.instance.currGameMode!=slot.OperationState.Free){if(this.aniCom){var t=this.aniCom.getAnimationState(this.roleName+"_wolk");t.time>=t.duration&&(this.aniCom.play(this.roleName+"_jump"),this.aniCom.on(this.finishEvenName,function(){e.onwalk()}))}s.default.instance.playRoleSoundEffect(this.roleId,["Prize_Sha","Prize_Pig","Prize_Sun","Prize_Tang"])}},t.prototype.onHappy=function(){var e=this;s.default.instance.currGameMode!=slot.OperationState.Free&&this.aniCom&&(this.aniCom.play(this.roleName+"_run"),this.aniCom.on(this.finishEvenName,function(){e.onwalk()}))},t.prototype.onRun=function(){var e=this;if(s.default.instance.currGameMode!=slot.OperationState.Free&&(this.spriteNode.opacity=0,this.skeExit)){this.skeExit.node.active=!0,this.skeExit.node.setPosition(cc.v3());var t=this.skeExit.defaultAnimation;this.skeExit.setAnimation(0,t,!1),this.skeExit.setCompleteListener(function(){cc.tween(e.skeExit.node).to(.3,{x:500}).call(function(){e.skeExit.node.active=!1,e.skeExit.node.setPosition(cc.v3()),e.skeAttack.node.active=!0;var t=e.skeAttack.defaultAnimation;e.skeAttack.setAnimation(0,t,!1),e.scheduleOnce(function(){e.playBodyLightEffect()},.1),e.scheduleOnce(function(){e.onPlayAttackLightEffect()},.4),s.default.instance.playRoleSoundEffect(e.roleId,["Feature_Sha","Feature_Pig","Feature_Sun","Feature_Tang"]),e.scheduleOnce(function(){game.EventManager.getInstance().raiseEvent(a.EventName.EVENT_SINGEL_SPINSLOT_CHANGEWILD_FRONT)},.1),e.skeAttack.setCompleteListener(function(){e.skeAttack.node.active=!1,e.spriteNode.x=-800,e.spriteNode.opacity=255,cc.tween(e.spriteNode).to(.3,{x:0}).start()})}).start()})}},t.prototype.onReset=function(e){var t=this;e==this.roleId?this.chooseLight.setCompleteListener(function(){t.chooseLight.node.active=!1}):(this.chooseLight.node.active=!1,this.spriteNode.color=cc.Color.fromHEX(new cc.Color,"#FFFFFF"))},t.prototype.onDark=function(){this.chooseLight.node.active=!1,this.spriteNode.color=cc.Color.fromHEX(new cc.Color,"#3C3535")},t.prototype.onChoose=function(){this.chooseLight.node.active=!0,this.chooseLight.setAnimation(0,"zx_1",!1),this.spriteNode.color=cc.Color.fromHEX(new cc.Color,"#FFFFFF"),slot.SoundMger.instance.playEffect("Feature_Chose")},t.prototype.chooseOrDark=function(e){e==this.roleId?this.onChoose():this.onDark()},t.prototype.onPlayAttackLightEffect=function(){var e=this;if(this.attackEffect){this.attackEffect.active=!0;var t=this.attackEffect.getComponent(cc.Animation);t&&(t.wrapMode=cc.WrapMode.Normal,t.stop(),t.play(),t.once("finished",function(){e.attackEffect.active=!1}))}},t.prototype.playBodyLightEffect=function(){var e=this;if(this.bodyLightEffect&&(this.roleId==a.SlotCardType.MONK||this.roleId==a.SlotCardType.MONKEY)){switch(this.roleId){case a.SlotCardType.MONK:this.bodyLightEffect.node.setPosition(cc.v3(63,62,0));break;case a.SlotCardType.MONKEY:this.bodyLightEffect.node.setPosition(cc.v3(85,97,0))}this.bodyLightEffect.node.active=!0,this.bodyLightEffect.clearTracks(),this.bodyLightEffect.setAnimation(0,"monk_light_fadein",!1),this.bodyLightEffect.setCompleteListener(function(){e.bodyLightEffect.node.active=!1})}},r([l],t)}(cc.Component));n.default=p,cc._RF.pop()},{"../GameEventName111005401":"GameEventName111005401","./GameEffectMng111005401":"GameEffectMng111005401"}],GameRoleAniCtr111005401:[function(e,t,n){"use strict";cc._RF.push(t,"23d4dPG4ypM5r7frogye3fT","GameRoleAniCtr111005401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../GameEventName111005401"),s=e("../roller/GameLayer111005401"),c=e("./GameRole111005401"),l=cc._decorator,p=l.ccclass,h=l.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.roleNodes=null,t.roleSpineNode=null,t.role_body_light=null,t.roleComArr=[],t.rolePosId=[a.SlotCardType.SANDY,a.SlotCardType.PIG,a.SlotCardType.MONK,a.SlotCardType.MONKEY],t._delayTime=.2,t}return i(t,e),t.prototype.onLoad=function(){game.EventManager.getInstance().addEventListener(a.EventName.EVENT_ROLE_JUMP,this.showRoleJump,this),game.EventManager.getInstance().addEventListener(a.EventName.EVENT_ROLE_RUN,this.chooseRoleTime,this),game.EventManager.getInstance().addEventListener(a.EventName.EVENT_ROLE_HAPPY_PLAY,this.showRoleHappy,this),this.addRoleCom()},t.prototype.start=function(){},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(a.EventName.EVENT_ROLE_JUMP,this.showRoleJump,this),game.EventManager.getInstance().removeEventListener(a.EventName.EVENT_ROLE_RUN,this.chooseRoleTime,this),game.EventManager.getInstance().removeEventListener(a.EventName.EVENT_ROLE_HAPPY_PLAY,this.showRoleHappy,this)},t.prototype.addRoleCom=function(){for(var e=0;e<this.roleNodes.childrenCount;e++){var t=this.roleNodes.children[e].addComponent(c.default),n=this.roleSpineNode.children[e],o=n.getChildByName("run").getComponent(sp.Skeleton),i=n.getChildByName("attack").getComponent(sp.Skeleton),r=i.node.getChildByName("attack_light");t.init(this.rolePosId[e],o,i,r,this.role_body_light),this.roleComArr.push(t)}},t.prototype.showRoleJump=function(e,t){if(!t)return console.warn("count is undefind");var n=Number(t),o=[];for(o=this.roleComArr.slice();n>0;){var i=Math.round(Math.random()*(o.length-1));o[i].onJump(),o.splice(i,1),n--}},t.prototype.showRoleHappy=function(){for(var e=0;e<this.roleComArr.length;e++)this.roleComArr[e].onHappy()},t.prototype.chooseRoleTime=function(){var e=this;this.roleComArr.forEach(function(e){e.onDark()});var t=3*this.roleComArr.length-1,n=0,o=0;this._delayTime=.2,this.schedule(function(){n=n>e.roleComArr.length-1?0:n,e.roleComArr.forEach(function(t){t.chooseOrDark(e.rolePosId[n])}),o==t&&e.chooseOnLastTime(),o++,n++,e._delayTime+=.01},this._delayTime,t,.1)},t.prototype.chooseOnLastTime=function(){var e=this,t=0,n=0;this._delayTime=.3;var o=s.default.instance.changeRoleId[0],i=this.rolePosId.indexOf(o);if(-1==i)return this.roleComArr.forEach(function(e){e.onReset(-1)}),void console.warn("chooseRoleTime cb roleId is wrong ",o);this.schedule(function(){e.roleComArr.forEach(function(n){n.chooseOrDark(e.rolePosId[t])}),n==i&&(e.roleComArr[i].onRun(),e.roleComArr.forEach(function(n){var o=e.rolePosId[t];n.onReset(o)})),t++,n++},this._delayTime,i,0)},r([h(cc.Node)],t.prototype,"roleNodes",void 0),r([h(cc.Node)],t.prototype,"roleSpineNode",void 0),r([h(sp.Skeleton)],t.prototype,"role_body_light",void 0),r([p],t)}(cc.Component);n.default=u,cc._RF.pop()},{"../GameEventName111005401":"GameEventName111005401","../roller/GameLayer111005401":"GameLayer111005401","./GameRole111005401":"GameRole111005401"}],GameRoller111005401:[function(e,t,n){"use strict";cc._RF.push(t,"abb6bi47QpMaoarOAE3uHhF","GameRoller111005401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../GameEventName111005401"),s=e("../bonusGame/GameOpenEffect111005401"),c=e("./GameLayer111005401"),l=cc._decorator,p=l.ccclass,h=l.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.gameOpenEffect=null,t.bottomPanel=null,t._gameContrlNode=null,t.curr_prto_data=[],t.refreshRoom_state=!1,t}return i(t,e),t.prototype.onLoad=function(){game.EventManager.getInstance().addEventListener(a.EventName.FREE_GAME_START,this._onFreeGameStart,this),game.EventManager.getInstance().addEventListener(a.EventName.FREE_GAME_OVER,this._onFreeGameOver,this),game.EventManager.getInstance().addEventListener(a.EventName.EVENT_GUNZHOU_BEGIN,this.scrollStartEvent,this),game.EventManager.getInstance().addEventListener(a.EventName.EVENT_FLUSH_GAME_DATA,this.upgamedata,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_UPDATE_WINSCORE,this.updateWinSorce,this),game.EventManager.getInstance().addEventListener(a.EventName.EVENT_IS_NO_ENTER_ROOM,this.setenterRoomstate,this),game.EventManager.getInstance().addEventListener(a.EventName.EVENT_CLOUD_LEVEAL_ANI,this.onPlayOpenEffect,this)},t.prototype.onDestroy=function(){game.EventManager.getInstance().removeEventListener(a.EventName.FREE_GAME_START,this._onFreeGameStart,this),game.EventManager.getInstance().removeEventListener(a.EventName.FREE_GAME_OVER,this._onFreeGameOver,this),game.EventManager.getInstance().removeEventListener(a.EventName.EVENT_GUNZHOU_BEGIN,this.scrollStartEvent,this),game.EventManager.getInstance().removeEventListener(a.EventName.EVENT_FLUSH_GAME_DATA,this.upgamedata,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_UPDATE_WINSCORE,this.updateWinSorce,this),game.EventManager.getInstance().removeEventListener(a.EventName.EVENT_IS_NO_ENTER_ROOM,this.setenterRoomstate,this),game.EventManager.getInstance().removeEventListener(a.EventName.EVENT_CLOUD_LEVEAL_ANI,this.onPlayOpenEffect,this)},t.prototype.start=function(){this.setMainbgvisible(),this.bottomPanel.active=!0,this.gameOpenEffect.node.active=!1},t.prototype.upgamedata=function(e,t){this.curr_prto_data=t},t.prototype._onFreeGameStart=function(){this.freegameShow(),this.bottomPanel.active=!1,game.EventManager.getInstance().raiseEvent("EVENT_MENU_SHOW_OR_HIDE",!1)},t.prototype.scrollStartEvent=function(){this.setMainbgvisible()},t.prototype.getGameContrlNode=function(){return this._gameContrlNode||(this._gameContrlNode=slot.MainView.instance.node.getChildByName("gameControPrefab")),this._gameContrlNode},t.prototype.freegameShow=function(){this.getGameContrlNode().opacity=0},t.prototype.freegameHid=function(){this.getGameContrlNode().opacity=255},t.prototype._onFreeGameOver=function(){this.freegameHid(),this.bottomPanel.active=!0,game.EventManager.getInstance().raiseEvent("EVENT_MENU_SHOW_OR_HIDE",!0)},t.prototype._getcurrgamestate=function(){return this.curr_prto_data.state},t.prototype.setMainbgvisible=function(){for(var e=this.node.getChildByName("scrollerLayer").getChildByName("scatter_bg_node"),t=1;t<6;t++){var n="scatter_bg_"+t;e.getChildByName(n).active=!1,e.getChildByName(n).setAnchorPoint(cc.v2(.5,.5)),e.position.y=0}},t.prototype.setenterRoomstate=function(e,t){this.refreshRoom_state=t},t.prototype.updateWinSorce=function(e,t){if(console.log(" \u66f4\u65b0\u8d62\u5206",t),!(t<=0||c.default.instance.showTatalWin)){c.default.instance.onUpdateScore=!1,slot.SoundMger.instance.stopEffect(slot.SOUND_NAME.JP_Text_Show),slot.SoundMger.instance.playEffect(slot.SOUND_NAME.JP_Text_Show);var n=slot.SpinManager.instance.betCost,o=Number(t)/Number(n);o>=5?o<20?(c.default.instance.onUpdateScore=!0,game.EventManager.getInstance().raiseEvent(a.EventName.EVENT_ROLE_JUMP,4)):game.EventManager.getInstance().raiseEvent(a.EventName.EVENT_ROLE_HAPPY_PLAY):game.EventManager.getInstance().raiseEvent(a.EventName.EVENT_ROLE_JUMP,2),game.EventManager.getInstance().raiseEvent(a.EventName.EVENT_SHOW_WIN_BANNER,t)}},t.prototype.onPlayOpenEffect=function(){var e=this;this._onFreeGameStart(),this.gameOpenEffect.node.active=!0,this.gameOpenEffect.onPlayHide(function(){e.gameOpenEffect.node.active=!1})},r([h(s.default)],t.prototype,"gameOpenEffect",void 0),r([h(cc.Node)],t.prototype,"bottomPanel",void 0),r([p],t)}(slot.BaseView);n.default=u,cc._RF.pop()},{"../GameEventName111005401":"GameEventName111005401","../bonusGame/GameOpenEffect111005401":"GameOpenEffect111005401","./GameLayer111005401":"GameLayer111005401"}],JTChildManager111005401:[function(e,t,n){"use strict";cc._RF.push(t,"5719b+lJVtDfYSZeMtE0kix","JTChildManager111005401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=e("../SpinSlotViewExtend111005401"),a=function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.registerClassAlias=function(){return this.registerClass(slot.JTChildFactory.SCROLLER_TYPE,slot.JTScroller),this.registerClass(slot.JTChildFactory.ITEMRENDER_TYPE,r.default),this.registerClass(slot.JTChildFactory.GIRD_TYPE,slot.JTSkinnableGridRender),this.registerClass(slot.JTChildFactory.SCATTER_TYPE,slot.JTScatterGridRender),this.registerClass(slot.JTChildFactory.LINE_TYPE,slot.JTSkinnableRuntimeLineAnimationRender),this},t.prototype.changedLine=function(t,n){e.prototype.changedLine.call(this,t,n)},t}(slot.JTChildFactory);n.default=a,cc._RF.pop()},{"../SpinSlotViewExtend111005401":"SpinSlotViewExtend111005401"}],JTCollectTask111005401:[function(e,t,n){"use strict";cc._RF.push(t,"3762bUMFktBjbxEEGuty4Vc","JTCollectTask111005401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../GameEventName111005401"),s=e("../GameLayer111005401"),c=cc._decorator,l=c.ccclass,p=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.runningTask=function(){s.default.instance.onReSrollAni?game.EventManager.getInstance().addEventListener(a.EventName.EVENT_SINGEL_SPINSLOT_CHANGEWILD,this.onReScroller_ChangeWildComplete,this):this.complete()},t.prototype.onReScroller_ChangeWildComplete=function(){var t=this;game.EventManager.getInstance().removeEventListener(a.EventName.EVENT_SINGEL_SPINSLOT_CHANGEWILD,this.onReScroller_ChangeWildComplete,this),setTimeout(function(){e.prototype.complete.call(t)},1e3)},r([l],t)}(slot.JTParseTask));n.default=p,cc._RF.pop()},{"../../GameEventName111005401":"GameEventName111005401","../GameLayer111005401":"GameLayer111005401"}],JTDelay111005401:[function(e,t,n){"use strict";cc._RF.push(t,"7f224tsSmlHlYaGPilng3oF","JTDelay111005401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../GameEventName111005401"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.addEventListenner=function(){},t.prototype.runningTask=function(){this.caculate(),this.nextStep()},t.prototype.caculate=function(){this.addStepTask(a.EventName.EVENT_GUNZHOU_END_EVENT)},r([c],t)}(slot.JTPerformanceTask));n.default=l,cc._RF.pop()},{"../../GameEventName111005401":"GameEventName111005401"}],JTLayerManager111005401:[function(e,t,n){"use strict";cc._RF.push(t,"aa69cmSY1FEmpzsFRlItGKh","JTLayerManager111005401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=e("../GameLayer111005401"),a=function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.initialize=function(e){this.addChildNode(slot.JTLayerFactory.EFFECT_BELOW_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.LAYER_SORT_SCATTER_STOP_CONTAINER,e);var n=this.addChildNode(slot.JTLayerFactory.SCATTER_BLACK_BACK_GROUND,e);this.addChildNode(slot.JTLayerFactory.SKIN_LOADER_CONTAINER,e);var o=this.addChildNode(slot.JTLayerFactory.SCROLLER_MASK_CONTAINER,e);this.addChildNode(slot.JTLayerFactory.SCROLLER_CONTAINER,o),this.addChildNode(slot.JTLayerFactory.LAYER_SORT_SCATTER_PLAY_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.LAYER_SORT_STOP_RENDER,e);var i=this.addChildNode(slot.JTLayerFactory.SCOLLER_GROUP_BLACK_BACK_GROUND,e);this.addChildNode(slot.JTLayerFactory.LAYER_SORT_PLAY_RENDER,e),this.addChildNode(slot.JTLayerFactory.LINE_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.LINE_NUMBER_CONTAINER,e);var a=this.addChildNode(t.FRAME_IMAGE_CONTAINER,e);r.default.instance.jianEffecLayer=a,this.addChildNode(slot.JTLayerFactory.EFFECT_ABOVE_CONTAINER,e),o.launch(e),i.setup(710,e.config.getHeight(),80),n.setup(e.config.getWidth(),e.config.getHeight(),80)},t.prototype.registerClassAlias=function(){return this.registerClass(slot.JTLayerFactory.EFFECT_BELOW_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCROLLER_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.LINE_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.GIRD_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCROLLER_MASK_CONTAINER,slot.JTScrollerGroupMask),this.registerClass(slot.JTLayerFactory.EFFECT_ABOVE_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCATTER_GRID_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SKIN_LOADER_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCOLLER_GROUP_BLACK_BACK_GROUND,slot.JTBlackBackGround),this.registerClass(slot.JTLayerFactory.LAYER_SORT_PLAY_RENDER,slot.JTLayerSortContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_STOP_RENDER,slot.JTLayerSortContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_SCATTER_PLAY_CONTAINER,slot.JTLayerSortContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_SCATTER_STOP_CONTAINER,slot.JTLayerSortContainer),this.registerClass(slot.JTLayerFactory.SCATTER_BLACK_BACK_GROUND,slot.JTBlackBackGround),this.registerClass(slot.JTLayerFactory.LINE_NUMBER_CONTAINER,slot.JTGComponent),this.registerClass(t.FRAME_IMAGE_CONTAINER,slot.JTGComponent),this},t.FRAME_IMAGE_CONTAINER=999,t}(slot.JTLayerFactory);n.default=a,cc._RF.pop()},{"../GameLayer111005401":"GameLayer111005401"}],JTLogicFactroy111005401:[function(e,t,n){"use strict";cc._RF.push(t,"63a77XfD3lEFKTzsS6apOnr","JTLogicFactroy111005401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=e("./JTCollectTask111005401"),s=e("./JTDelay111005401"),c=e("./JTPlayWinLineAudio111005401"),l=e("./JTUpdateScore111005401"),p=cc._decorator,h=p.ccclass,u=(p.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.adjustFlowOptions=function(){this.childOption(s.default,slot.JTTaskPriority.JTCONVERT_PLAYLINES-2),this.childOption(a.default,slot.JTTaskPriority.JTCONVERT_PLAYLINES-1),this.childOption(c.default,slot.JTTaskPriority.JTGLOBAL_DISPLAY_LINES-1),this.childOption(l.default,slot.JTTaskPriority.JTGLOBAL_DISPLAY_LINES+1)},r([h],t)}(slot.JTLogicFactroy));n.default=u,cc._RF.pop()},{"./JTCollectTask111005401":"JTCollectTask111005401","./JTDelay111005401":"JTDelay111005401","./JTPlayWinLineAudio111005401":"JTPlayWinLineAudio111005401","./JTUpdateScore111005401":"JTUpdateScore111005401"}],JTPlayWinLineAudio111005401:[function(e,t,n){"use strict";cc._RF.push(t,"98a1bGr22tIZ49juhonbQIq","JTPlayWinLineAudio111005401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../GameLayer111005401"),s=cc._decorator,c=s.ccclass,l=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.runningTask=function(){a.default.instance.hasWinLine&&setTimeout(function(){slot.SoundMger.instance.playEffect(slot.SOUND_NAME.Line_Switch)},300),this.complete()},r([c],t)}(slot.JTParseTask));n.default=l,cc._RF.pop()},{"../GameLayer111005401":"GameLayer111005401"}],JTUpdateScore111005401:[function(e,t,n){"use strict";cc._RF.push(t,"2b273uE4phMoL69BU0gJSVE","JTUpdateScore111005401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../GameEventName111005401"),s=e("../GameLayer111005401"),c=cc._decorator,l=c.ccclass,p=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.runningTask=function(){s.default.instance.onUpdateScore?game.EventManager.getInstance().addEventListener(a.EventName.EVENT_LINE_UPDATESCORES,this.onUpdateScoreEnd,this):this.complete()},t.prototype.onUpdateScoreEnd=function(){game.EventManager.getInstance().removeEventListener(a.EventName.EVENT_LINE_UPDATESCORES,this.onUpdateScoreEnd,this),e.prototype.complete.call(this)},r([l],t)}(slot.JTParseTask));n.default=p,cc._RF.pop()},{"../../GameEventName111005401":"GameEventName111005401","../GameLayer111005401":"GameLayer111005401"}],LanguageInfo111005401:[function(e,t,n){"use strict";cc._RF.push(t,"a7534kriytEJZ/5P6CpM60F","LanguageInfo111005401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this)},r([s],t)}(slot.LanguageInfoBase));n.default=c,cc._RF.pop()},{}],LanguageSpInfoBase111005401:[function(e,t,n){"use strict";cc._RF.push(t,"7f08bJwqoxLHbh+RJl25CsZ","LanguageSpInfoBase111005401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,a.menu),l=a.requireComponent,p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.start=function(){},r([s,c("common/ui/LanguageSpInfoBase111005401"),l(sp.Skeleton)],t)}(slot.LanguageSkeleton);n.default=p,cc._RF.pop()},{}],Main111005401:[function(e,t,n){"use strict";cc._RF.push(t,"57d00zdnbpIl73C/PZZzTrK","Main111005401");var o,i,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0}),n.UICF=n.UIID=void 0;var s,c=e("../common/WinAnimation111005401"),l=cc._decorator,p=l.ccclass,h=(l.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),game.BaseUIConf.getInstance().mergeUIConf(n.UICF);var t=game.BaseUIConf.getInstance().getUICF();game.UIManager.getInstance().initUIConf(t)},t.prototype.getWinAniManagerClass=function(){return c.default},a([p],t)}(slot.MainView));n.default=h,function(e){e[e.BONUS_GAME_POPUP=1e4]="BONUS_GAME_POPUP",e[e.FREE_GAME_RESULT=10001]="FREE_GAME_RESULT"}(s=n.UIID||(n.UIID={})),n.UICF=((i={})[s.BONUS_GAME_POPUP]={bundleName:"game_111005401",path:"prefabs/bonusGame/bonusGame",preventKeyboard:!0,preventTouch:!1,quickClose:!1,cache:!1,showType:game.UIShowTypes.UI_FULLSCREEN,openAni:game.UIDefAni.UI_NONE,closeAni:game.UIDefAni.UI_NONE,zOrder:slot.LayerManage.tip},i[s.FREE_GAME_RESULT]={bundleName:"game_111005401",path:"prefabs/freeGameResult/freeGameResult",preventKeyboard:!0,preventTouch:!1,quickClose:!1,cache:!1,showType:game.UIShowTypes.UI_FULLSCREEN,openAni:game.UIDefAni.UI_NONE,closeAni:game.UIDefAni.UI_NONE,zOrder:slot.LayerManage.tip},i),cc._RF.pop()},{"../common/WinAnimation111005401":"WinAnimation111005401"}],NumAtlasLabel111005401:[function(e,t,n){"use strict";cc._RF.push(t,"0452atpXL1HG41C7ZUyJq7w","NumAtlasLabel111005401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),r([s],t)}(slot.CommonNumAtlasBase));n.default=c,cc._RF.pop()},{}],PlayData111005401:[function(e,t,n){"use strict";cc._RF.push(t,"355c4dwpDFEbpagsShH8foR","PlayData111005401"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e){void 0===e&&(e="local"),this._mData={},this._dataLocalName="",this._bSaveIng=!1,this._dataLocalName="111005401"+e,this.LoadStorage()}return e.prototype.LoadStorage=function(){var e=cc.sys.localStorage.getItem(this._dataLocalName);e&&""!==e?this.init(JSON.parse(e)):(this.init(),this.save())},e.prototype.clear=function(){this._mData={},this.save()},e.prototype.init=function(e){void 0===e&&(e={}),this._mData=e},e.prototype.get=function(e,t){return void 0===t&&(t=null),null!=this._mData[e]?this._mData[e]:t},e.prototype.set=function(e,t){return!(this._mData[e]&&this._mData[e]==t||(this._mData[e]=t,0))},e.prototype.save=function(){cc.sys.localStorage.setItem(this._dataLocalName,JSON.stringify(this._mData))},e}();n.default=new o,cc._RF.pop()},{}],SpinSlotViewExtend111005401:[function(e,t,n){"use strict";cc._RF.push(t,"32be0vc0edONqUu4Uh58X3x","SpinSlotViewExtend111005401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=e("../common/CardChangeEffect111005401"),a=e("../GameEventName111005401"),s=e("../UIHelp111005401"),c=function(e){function t(){var t=e.call(this)||this;return t._slotFrameAniView=null,t._slotFrameAniView_front=null,t.onChangeAni=!1,t.isBlur=!0,t.isFade=!0,t.isFadeMask=!1,t}return i(t,e),t.prototype.onPlayAnimation=function(e,t,n,o){this._recoverSlotFrameAniView(),this._recoverSlotFrameAniView_front(),this._showFrameAniView(o,n),this.specialAni(),this.skinLoader.skeletonNode.scale=.7},t.prototype.onRollEnd=function(){this.data>=a.SlotCardType.WILD&&(this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"idle"),this.skinLoader.skeletonNode.scale=.7,this.data==a.SlotCardType.SCATTER&&(cc.Tween.stopAllByTarget(this.skinLoader.skeletonNode),cc.tween(this.skinLoader.skeletonNode).to(.1,{scale:.6}).to(.2,{scale:.8}).to(.1,{scale:.7}).start(),this._recoverSlotFrameAniView(),this._recoverSlotFrameAniView_front(),this._showFrameAniView()))},t.prototype.specialAni=function(){var e=this.skinLoader.skeletonNode.getComponent(sp.Skeleton);this.data<a.SlotCardType.SANDY?(this.scale=1,cc.Tween.stopAllByTarget(this),cc.tween(this).delay(.08).to(.2,{scale:1.2}).to(.15,{scale:1}).start()):this.data>=a.SlotCardType.SANDY&&this.data<a.SlotCardType.WILD?(this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"win"),e.loop=!1,e.setCompleteListener(function(){e.loop=!1,e.setCompleteListener(null)})):this.data>=a.SlotCardType.WILD&&this.data<11?(this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"win"),e.node.active=!1,e.node.active=!0,e.setAnimation(0,"win",!1),e.setCompleteListener(function(){e.setAnimation(0,"idle",!0),e.setCompleteListener(null)})):this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"idle")},t.prototype.onPlayIdleAnimaition=function(){this.data>=a.SlotCardType.WILD&&this.data<11&&(this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"idle"),this.skinLoader.skeletonNode.getComponent(sp.Skeleton).setAnimation(0,"idle",!0),this.data==a.SlotCardType.SCATTER&&(cc.Tween.stopAllByTarget(this.skinLoader.skeletonNode),this.skinLoader.skeletonNode.scale=.7))},t.prototype.onStopAnimation=function(){this._recoverSlotFrameAniView(),this._recoverSlotFrameAniView_front()},t.prototype.onPlayRewardsAnimation=function(){},t.prototype.onStopRewardsAnimation=function(){t._rewardsView&&t._rewardsView.removeFromParent()},t.prototype._getRewardsAnimation=function(){},t.prototype._showFrameAniView=function(){this._slotFrameAniView||(this._slotFrameAniView=this._getSlotFrameAniView()),this._slotFrameAniView.setScale(1),this._slotFrameAniView.active=!0,this.addEffectNode(this._slotFrameAniView,!1),this._slotFrameAniView_front||(this._slotFrameAniView_front=this._getSlotFrameAniView_front()),this._slotFrameAniView_front.setScale(.8),this._slotFrameAniView_front.active=!0,this.addEffectNode(this._slotFrameAniView_front,!0)},t.prototype._getSlotFrameAniView=function(){var e=this;if(this._slotFrameAniView)return this._slotFrameAniView;this._recoverSlotFrameAniView(),this._slotFrameAniView=new cc.Node;var t=this._slotFrameAniView.addComponent(slot.AnimationExtend),n=new slot.AniParam(slot.ANIMATION_TYPE.SKELETON,"skeleton/card_ske/card_win_ske/win",slot.GData.bundleName,"win_fadein2");t.init(n),n.premultipliedAlpha=!0;var o=slot.Handler.create(this,function(){t.play("win_back_loop2",!0,slot.Handler.create(e,function(){}))});return t.play("win_fadein2",!1,o),this._slotFrameAniView},t.prototype._getSlotFrameAniView_front=function(){if(this._slotFrameAniView_front)return this._slotFrameAniView_front;this._recoverSlotFrameAniView_front(),this._slotFrameAniView_front=new cc.Node;var e=this._slotFrameAniView_front.addComponent(slot.AnimationExtend),t=new slot.AniParam(slot.ANIMATION_TYPE.SKELETON,"skeleton/roller_layout_ske/fscx",slot.GData.bundleName,"fscx_front_loop");e.init(t),t.premultipliedAlpha=!0;var n=slot.Handler.create(this,function(){});return e.play("fscx_front_loop",!1,n),this._slotFrameAniView_front},t.prototype._recoverSlotFrameAniView=function(){this._slotFrameAniView&&(this._slotFrameAniView.removeFromParent(),this._slotFrameAniView.destroy(),this._slotFrameAniView=null)},t.prototype._recoverSlotFrameAniView_front=function(){this._slotFrameAniView_front&&(this._slotFrameAniView_front.removeFromParent(),this._slotFrameAniView_front.destroy(),this._slotFrameAniView_front=null)},t.prototype.changeWildCb=function(e,t){var n=this;void 0===t&&(t=!1),e==this.data&&(slot.SoundMger.instance.playEffect("Symbol_Turn"),t?(this.data+=6,this.setAnimation(slot.JTGLoaderAssetType.Skeleton,"idle"),this.skinLoader.skeletonNode.scale=.7):this.onChangeAni||(this.onChangeAni=!0,s.default.creShowPreNode("slotMachine/cardChangeEffect",this).then(function(t){t&&t.getComponent(r.default).onInit(e,function(){n.data+=6,n.setAnimation(slot.JTGLoaderAssetType.Skeleton,"idle"),n.skinLoader.skeletonNode.scale=.7,n.onChangeAni=!1})})))},t.prototype.aniChangeWild=function(){},t._rewardsView=null,t}(slot.SpinSlotView);n.default=c,cc._RF.pop()},{"../GameEventName111005401":"GameEventName111005401","../UIHelp111005401":"UIHelp111005401","../common/CardChangeEffect111005401":"CardChangeEffect111005401"}],SpineAniComCtr111005401:[function(e,t,n){"use strict";cc._RF.push(t,"165a3MkZw1DYrqmynGKpQAb","SpineAniComCtr111005401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handle=null,t.skeCom=null,t._onPlaying=!1,t.defaultAniName="",t}return i(t,e),t.prototype.onLoad=function(){this._onPlaying=!1;var e=this.getSkeCom();e&&(this.defaultAniName=e.defaultAnimation)},t.prototype.onEnable=function(){this.onPlay()},t.prototype.setHandle=function(e){this.handle=null,e&&(this.handle=e)},t.prototype.getSkeCom=function(){return this.skeCom||(this.skeCom=this.node.getComponent(sp.Skeleton)),this.skeCom},t.prototype.onPlay=function(){var e=this;if(!this._onPlaying){var t=this.getSkeCom();t&&this.defaultAniName&&(this._onPlaying=!0,t.setAnimation(0,this.defaultAniName,!1),t.setCompleteListener(function(){e._onPlaying=!1,e.handle&&e.handle()}))}},r([s],t)}(cc.Component));n.default=c,cc._RF.pop()},{}],SpriteFlashLightEffect:[function(e,t,n){"use strict";cc._RF.push(t,"56f48ia7jVKB5Cqk5zXoVmW","SpriteFlashLightEffect");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,c=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._speed=1,t._time=0,t}return i(t,e),t.prototype.onLoad=function(){var e=this.node.getComponent(cc.Sprite);e&&(this._material=e.getMaterial(0))},t.prototype.start=function(){},t.prototype.update=function(e){this._material&&(this._time>2&&(this._time=0),this._material.setProperty("renderTime",this._time),this._time+=e*this._speed)},r([s],t)}(cc.Component));n.default=c,cc._RF.pop()},{}],UIHelp111005401:[function(e,t,n){"use strict";cc._RF.push(t,"9eeb0aGjWND2bZT3MjwYXrh","UIHelp111005401"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.bundleLoadAudio=function(e,t,n){var o=this;return void 0===t&&(t=this.bundleName),void 0===n&&(n="sounds/"),new Promise(function(i,r){o.bundleLoadRes(t,n+e,cc.AudioClip).then(function(e){e&&i(e)}).catch(function(e){console.warn(e),r()})})},e.bundleLoad=function(e){return new Promise(function(t,n){var o=cc.assetManager.getBundle(e);o?t(o):cc.assetManager.loadBundle(e,function(e,o){e&&(console.error(e),n()),t(o),console.log("load bundle successfully.")})})},e.bundlePreLoadRes=function(e,t,n){var o=this;return new Promise(function(i,r){o.bundleLoad(e).then(function(e){e.preload(t,n,function(e,n){e?r("\u9884\u52a0\u8f7dres\u5931\u8d25\uff01path:"+t):i(n)})})})},e.bundleLoadRes=function(e,t,n){var o=this;return new Promise(function(i,r){o.bundleLoad(e).then(function(e){e.load(t,n,function(e,n){e?r("\u52a0\u8f7dres\u5931\u8d25\uff01path:"+t):i(n)})})})},e.bundlePreLoadPrefab=function(e,t,n){var o=this;return void 0===t&&(t=this.bundleName),void 0===n&&(n="prefabs/"),new Promise(function(){o.bundlePreLoadRes(t,n+e,cc.Prefab)})},e.bundleLoadPrefab=function(e,t,n){var o=this;return void 0===t&&(t=this.bundleName),void 0===n&&(n="prefabs/"),new Promise(function(i,r){if(o.prefabMap.has(n+e)){var a=o.prefabMap.get(n+e);i(a)}else o.bundleLoadRes(t,n+e,cc.Prefab).then(function(t){t&&(o.prefabMap.set(n+e,t),i(t))}).catch(function(e){console.warn(e),r()})})},e.bundleLoadSpriteFrame=function(e,t,n){var o=this;return void 0===t&&(t=this.bundleName),void 0===n&&(n="textures/"),new Promise(function(i,r){if(o.spriteFrameMap.has(n+e)){var a=o.spriteFrameMap.get(n+e);i(a)}else o.bundleLoadRes(t,n+e,cc.SpriteFrame).then(function(t){t&&(o.spriteFrameMap.set(n+e,t),i(t))}).catch(function(e){console.warn(e),r()})})},e.bundleLoadAtlas=function(e,t,n){var o=this;return void 0===t&&(t=this.bundleName),void 0===n&&(n="textures/"),new Promise(function(i,r){if(o.atlasMap.has(n+e)){var a=o.atlasMap.get(n+e);i(a)}else o.bundleLoadRes(t,n+e,cc.SpriteAtlas).then(function(t){t&&(o.atlasMap.set(n+e,t),i(t))}).catch(function(e){console.warn(e),r()})})},e.onRegBtnEvent=function(e,t,n,o,i){var r=this;void 0===n&&(n=null),void 0===o&&(o=!1),void 0===i&&(i="click"),e&&(o?e.once(cc.Node.EventType.TOUCH_END,function(e){t&&t(e)},n||e):e.on(cc.Node.EventType.TOUCH_END,function(e){r.canClick&&(r.canClick=!1,setTimeout(function(){r.canClick=!0},100),t&&t(e))},n||e))},e.unRegBtnEvent=function(e,t,n){void 0===n&&(n=null),e&&e.off(cc.Node.EventType.TOUCH_END,t,n)},e.creShowPreNode=function(e,t,n,o){var i=this;return void 0===n&&(n=this.bundleName),void 0===o&&(o="prefabs/"),new Promise(function(r,a){i.bundleLoadPrefab(e,n,o).then(function(e){if(e){var n=cc.instantiate(e);t.addChild(n),n.active=!0,r(n)}}).catch(function(e){console.warn(e),a()})})},e.hidePreNode=function(e){e&&e.isValid&&(e.active=!1)},e.playBoneAnim=function(e,t,n,o){void 0===n&&(n=1),e.once(dragonBones.EventObject.COMPLETE,function(){o&&o()},this),e.playAnimation(t,n)},e.scaleNodeAni=function(e,t){if(void 0===t&&(t=.1),e){e.stopAllActions(),e.setPosition(0,0);var n=e.scale;e.setScale(.5),cc.tween(e).to(t,{scale:n}).start()}},e.scaleSmallNodeAni=function(e,t,n){void 0===n&&(n=.15),e&&(e.stopAllActions(),cc.tween(e).to(n,{scale:.3}).call(function(){t&&t()}).start())},e.changeLabelNum=function(e,t,n,o){if(void 0===n&&(n=.2),void 0===o&&(o=""),e&&null!=t){var i=Number(e.string);if(isNaN(i))e.string=t+o;else{var r=20,a=n/r,s=(t-i)/r,c=cc.delayTime(a),l=cc.repeat(cc.sequence(c,cc.callFunc(function(){i+=s,e.string=Math.round(i)+o,--r<=0&&(e.node.stopAllActions(),e.string=t+o)})),r);e.node.runAction(l.easing(cc.easeInOut(.3)))}}},e.isIPhoneX=function(){return Math.max(cc.winSize.height,cc.winSize.width)/Math.min(cc.winSize.height,cc.winSize.width)>2},e.bundleName="game_111005401",e.prefabMap=new Map,e.spriteFrameMap=new Map,e.atlasMap=new Map,e.canClick=!0,e}();n.default=o,cc._RF.pop()},{}],WinAnimation111005401:[function(e,t,n){"use strict";cc._RF.push(t,"54233maRYhI9YOyjgdUEewJ","WinAnimation111005401");var o,i=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__decorate||function(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(n,"__esModule",{value:!0});var a=e("../GameEventName111005401"),s=e("./CommonLogic111005401"),c=cc._decorator,l=c.ccclass,p=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.playWinStart=function(){slot.SoundMger.instance.pauseCurMusic(),slot.SoundMger.instance.playEffect("Prize_Big",!0)},t.prototype.playWinTextFadeIn=function(e){return s.default.nodeScaleBingBongAni(e,.6,.1)},t.prototype.playWinTextFadeOut=function(e){e.active=!1},t.prototype.onStageChange=function(){},t.prototype.onPlayFinalAnimation=function(){this.getWinTextNode().scale=1,slot.SoundMger.instance.stopEffect("Prize_Big"),slot.SoundMger.instance.playEffect("Prize_Big_Quick")},t.prototype.onCoinIncreaseEnd=function(){slot.SoundMger.instance.stopEffect("Prize_Big"),slot.SoundMger.instance.playEffect("Prize_Big_Quick")},t.prototype.playFadeOut=function(t){var n,o,i,r,s,c;e.prototype.playFadeOut&&e.prototype.playFadeOut.call(this,t),slot.SoundMger.instance.stopEffect("Prize_Big"),slot.SoundMger.instance.resumeCurMusic(),(null===(i=null===(o=null===(n=slot.SpinManager.instance)||void 0===n?void 0:n.rollingResult)||void 0===o?void 0:o.spinResult)||void 0===i?void 0:i.spinCoin)&&game.EventManager.getInstance().raiseEvent(a.EventName.EVENT_SHOW_WIN_BANNER,Number(null===(c=null===(s=null===(r=slot.SpinManager.instance)||void 0===r?void 0:r.rollingResult)||void 0===s?void 0:s.spinResult)||void 0===c?void 0:c.spinCoin))},r([l],t)}(slot.WinAniManager));n.default=p,cc._RF.pop()},{"../GameEventName111005401":"GameEventName111005401","./CommonLogic111005401":"CommonLogic111005401"}]},{},["Banner111005401","FreegameNumLabel111005401","GameEventName111005401","NumAtlasLabel111005401","UIHelp111005401","BonusGame111005401","GameOpenEffect111005401","CardChangeEffect111005401","CommonLogic111005401","FiveLineWin111005401","FreeGameRole111005401","FreeGameRoleMng111005401","GameEffectMng111005401","GameRole111005401","GameRoleAniCtr111005401","LanguageSpInfoBase111005401","PlayData111005401","SpineAniComCtr111005401","WinAnimation111005401","FreeGameResult111005401","BgCloudMoveAni111005401","GameBg111005401","CommonNumAtlas111005401","LanguageInfo111005401","Main111005401","GameLayer111005401","GameRoller111005401","SpinSlotViewExtend111005401","JTChildManager111005401","JTCollectTask111005401","JTDelay111005401","JTLayerManager111005401","JTLogicFactroy111005401","JTPlayWinLineAudio111005401","JTUpdateScore111005401","FluxayTextureEffect","SpriteFlashLightEffect","FlashLightMove"]);